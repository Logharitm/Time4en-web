import{N as Z,F as J}from"./front-page-navbar-B-6rNV8O.js";import{_ as K,r as l,dl as Q,V as X,E as Y,a as ee,c as V,o as p,b as t,e as o,d as f,k as x,t as i,a5 as d,s,Z as T,F as te,h as oe,f as ae,p as re}from"./main-DSzMYLzp.js";import le from"./AddFolderDrawer-Dk4ZRdMG.js";import se from"./EditFolderDrawer-ByNGPSDx.js";import{$ as g}from"./api-DfH6QBqv.js";import{a as c,V as E}from"./VRow-CXKAFC9P.js";import{V as P}from"./VContainer-Bo5tUttY.js";import{V as L,d as S,b as ie}from"./VCard-DuhDOrWR.js";import{V as I}from"./VCardText-CYf2INNP.js";import{V as ne}from"./VMenu-C8sperRe.js";import{c as de,a as N,b as B}from"./VList-DKYD3D7n.js";import{V as ue}from"./VPagination-D_e-sj_C.js";import{V as me}from"./VSpacer-C0KMtbqI.js";import{V as pe}from"./VDialog-BVYGJeUe.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vue3-perfect-scrollbar-CD61MQhq.js";import"./VNodeRenderer-C4t7i_ij.js";import"./NavBarNotifications-DWCgVmQc.js";/* empty css                                                      */import"./VBadge-C0hrQA_P.js";import"./VImg-DNHHYH1j.js";import"./VChip-BBSDOnKc.js";import"./VSlideGroup-DP5_Q-g4.js";import"./VAvatar-CS_wgqDD.js";import"./VDivider-Aaq6eqyh.js";import"./index-CvOPxmL5.js";import"./VOverlay-B4STW1mc.js";import"./easing-Bybner-F.js";import"./delay-xKSXn8zt.js";import"./lazy-C265PUUC.js";import"./scopeId-D_KEFreD.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-Bo7gOho2.js";import"./ssrBoot-BftT6orn.js";/* empty css              */import"./I18n-zlVMxt3R.js";import"./VNavigationDrawer-vqJV-mq-.js";import"./VToolbar-UM0Eyjq-.js";import"./validators-DpYrMFzk.js";import"./helpers-DK5QwNv0.js";import"./AppTextarea-BZQoC0mK.js";import"./form-B1tFRS7d.js";import"./VTextarea-Bw4Fi40K.js";/* empty css                   */import"./VCounter-CgP2sO8g.js";import"./VField-D6MI6Ow5.js";import"./VInput-CPAsoCij.js";import"./AppTextField-BWx9dSw2.js";import"./VTextField-CziLb0ab.js";import"./AppDrawerHeaderSection-D3lbPkyF.js";import"./VForm-CPPstvq0.js";const fe={class:"landing-page-wrapper"},ce={id:"folders"},ve={class:"d-flex justify-space-between align-center mb-6"},_e={class:"text-h4"},Ve={class:"card-title-bar"},ge={class:"text-body-6 font-bold mb-4",style:{"font-size":"18px","line-height":"30px"}},ye={key:0,class:"text-center py-6"},be={key:1,class:"d-flex justify-center my-6"},yt={__name:"folders",setup(we){const U=K();U.skin="default";const C=l(),A=l(),M=l(),R=l(),j=l(),q=l();Q([A,M,R,j,q],([{isIntersecting:a,target:e}])=>{a&&(C.value=e.id)},{threshold:.25});const $=l([]),v=l(!1),y=l(!1),b=l(!1),D=l(null),u=l(!1),_=l(null),z=a=>{_.value=a,u.value=!0},n=l(1),F=l(20),O=l(0),h=X(()=>Math.ceil(O.value/F.value)),G=async()=>{if(_.value)try{await g(`/folders/${_.value}/delete`,{method:"POST"}),m(n.value)}catch(a){console.error("Error deleting folder",a)}finally{u.value=!1,_.value=null}},m=async(a=1)=>{v.value=!0;try{const e=await g(`/folders?page=${a}`,{method:"GET"});e.status==="success"&&e.data&&($.value=e.data,e.meta&&(n.value=e.meta.current_page,F.value=e.meta.per_page,O.value=e.meta.total))}catch(e){console.error("Error fetching folders",e)}finally{v.value=!1}},H=async a=>{try{await g("/folders",{method:"POST",body:a}),m(n.value)}catch(e){console.error("Error adding folder",e)}},W=async(a,e)=>{try{await g(`/folders/${a}/update`,{method:"POST",body:e}),m(n.value)}catch(w){console.error("Error editing folder",w)}};return Y(()=>{m(n.value)}),(a,e)=>{const w=ee("RouterLink");return p(),V("div",fe,[t(Z,{"active-id":C.value},null,8,["active-id"]),t(P,{class:"page-content-wrapper mt-16"},{default:o(()=>[t(c,{cols:"12 mt-8"},{default:o(()=>[f("div",ce,[t(P,null,{default:o(()=>[f("div",ve,[f("h4",_e,i(a.$t("Folders")),1),t(d,{color:"primary",onClick:e[0]||(e[0]=r=>y.value=!0)},{default:o(()=>[t(T,{class:"tabler-folder-plus ml-2"}),s(" "+i(a.$t("Add Folder")),1)]),_:1})]),t(E,null,{default:o(()=>[(p(!0),V(te,null,oe($.value,r=>(p(),ae(c,{key:r.id,cols:"12",sm:"6",lg:"4"},{default:o(()=>[t(L,null,{default:o(()=>[f("div",Ve,[t(T,{class:"tabler-folder ml-2"}),s(" "+i(r.name),1)]),t(I,{class:"pa-6"},{default:o(()=>[f("p",ge,i(r.description),1)]),_:2},1024),t(S,{class:"pa-0 card-actions-bordered"},{default:o(()=>[t(E,{"no-gutters":"",class:"w-100"},{default:o(()=>[t(c,{cols:"4"},{default:o(()=>[t(ne,{location:"top","open-on-hover":""},{activator:o(({props:k})=>[t(d,re({block:"",color:"primary",variant:"outlined",ref_for:!0},k),{default:o(()=>e[6]||(e[6]=[s(" ادارة المجلد ")])),_:2,__:[6]},1040)]),default:o(()=>[t(de,null,{default:o(()=>[t(N,{onClick:k=>(D.value=r,b.value=!0)},{default:o(()=>[t(B,null,{default:o(()=>[s(i(a.$t("Edit")),1)]),_:1})]),_:2},1032,["onClick"]),t(N,{onClick:k=>z(r.id)},{default:o(()=>[t(B,null,{default:o(()=>[s(i(a.$t("Delete")),1)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024),t(c,{cols:"4",class:"btn-divider"},{default:o(()=>[t(w,{to:`/words/${r.id}`},{default:o(()=>[t(d,{block:"",color:"primary",variant:"outlined"},{default:o(()=>[s(i(a.$t("Words"))+" ( "+i(r.words_count)+" ) ",1)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024),t(c,{cols:"4",class:"btn-divider"},{default:o(()=>[t(d,{block:"",color:"primary",variant:"outlined"},{default:o(()=>[s(i(a.$t("Practice")),1)]),_:1})]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),v.value?(p(),V("div",ye,i(a.$t("Loading"))+"... ",1)):x("",!0),!v.value&&h.value>1?(p(),V("div",be,[t(ue,{modelValue:n.value,"onUpdate:modelValue":[e[1]||(e[1]=r=>n.value=r),m],length:h.value,"total-visible":"7"},null,8,["modelValue","length"])])):x("",!0)]),_:1})])]),_:1})]),_:1}),t(J),t(le,{isDrawerOpen:y.value,"onUpdate:isDrawerOpen":e[2]||(e[2]=r=>y.value=r),onFolderData:H},null,8,["isDrawerOpen"]),t(se,{isDrawerOpen:b.value,"onUpdate:isDrawerOpen":e[3]||(e[3]=r=>b.value=r),"folder-data":D.value,onFolderData:W},null,8,["isDrawerOpen","folder-data"]),t(pe,{modelValue:u.value,"onUpdate:modelValue":e[5]||(e[5]=r=>u.value=r),"max-width":"500px"},{default:o(()=>[t(L,null,{default:o(()=>[t(ie,{class:"text-h6"},{default:o(()=>e[7]||(e[7]=[s("تأكيد الحذف")])),_:1,__:[7]}),t(I,null,{default:o(()=>e[8]||(e[8]=[s(" هل أنت متأكد أنك تريد حذف هذا المجلد؟ لا يمكن التراجع عن هذا الإجراء. ")])),_:1,__:[8]}),t(S,{class:"px-6 pb-4"},{default:o(()=>[t(me),t(d,{color:"error",variant:"flat",onClick:e[4]||(e[4]=r=>u.value=!1)},{default:o(()=>e[9]||(e[9]=[s("إلغاء")])),_:1,__:[9]}),t(d,{color:"success",variant:"flat",onClick:G},{default:o(()=>e[10]||(e[10]=[s("موافق")])),_:1,__:[10]})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}};export{yt as default};
