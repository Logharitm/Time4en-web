import{_ as P}from"./AppTextField-B5LmAI45.js";import{cx as y,r as u,a as C,c as F,o as p,b as t,e,d as o,l as a,G as _,t as i,ak as I,f as T,k as L,a5 as B,s as N,Z as M,F as R}from"./main-D7GZrFPc.js";import{u as g}from"./useGenerateImageVariant-CzF67hkD.js";import{V as j}from"./VNodeRenderer-CjDMbrzl.js";import{a as D,b as S}from"./auth-v2-forgot-password-illustration-light-_ml02o13.js";import{m as $,a as E}from"./misc-mask-light-Cs9lWxjH.js";import{$ as G}from"./api-BeHJEbM3.js";import{a as n,V as h}from"./VRow-vQlp5R9K.js";import{V as z}from"./VImg-BKWqwFT8.js";import{V as A}from"./VCard-DT64k4Cz.js";import{V}from"./VCardText-CefwAUfD.js";import{V as O}from"./VForm-hfu_i-lW.js";import"./form-oozAywB0.js";import"./VTextField-DRRTeVyU.js";/* empty css                   */import"./VCounter-36TneYEq.js";import"./VField-Dtz92r7N.js";import"./easing-Bybner-F.js";import"./VInput-DMUQC4_n.js";import"./forwardRefs-C-GTDzx5.js";import"./index-CvOPxmL5.js";/* empty css              */import"./VAvatar-BLMjzrgb.js";const U={class:"auth-logo d-flex align-center gap-x-3"},Z={class:"auth-title"},q={class:"position-relative bg-background w-100 me-0"},H={class:"d-flex align-center justify-center w-100 h-100",style:{"padding-inline":"150px"}},J=["src"],K={class:"text-h4 mb-1"},Q={class:"mb-0"},W={class:"text-center text-success"},vt={__name:"forgot-password",setup(X){const{t:l}=y(),m=u(""),r=u(""),c=u(!1),w=g(S,D),x=g(E,$),b=async()=>{var d;c.value=!0,r.value="";try{const s=await G("/forgot-password",{method:"POST",body:{email:m.value}});r.value=s.message||l("forgotPassword.success")}catch(s){(d=s==null?void 0:s.errors)!=null&&d.email?r.value=s.errors.email[0]:r.value=l("forgotPassword.unexpectedError")}finally{c.value=!1}};return(d,s)=>{const f=C("RouterLink"),v=P;return p(),F(R,null,[t(f,{to:"/"},{default:e(()=>[o("div",U,[t(a(j),{nodes:a(_).app.logo},null,8,["nodes"]),o("h1",Z,i(a(_).app.title),1)])]),_:1}),t(h,{class:"auth-wrapper bg-surface","no-gutters":""},{default:e(()=>[t(n,{md:"8",class:"d-none d-md-flex"},{default:e(()=>[o("div",q,[o("div",H,[t(z,{"max-width":"468",src:a(w),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),o("img",{class:"auth-footer-mask",src:a(x),alt:"footer-mask",height:"280",width:"100"},null,8,J)])]),_:1}),t(n,{cols:"12",md:"4",class:"d-flex align-center justify-center"},{default:e(()=>[t(A,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:e(()=>[t(V,null,{default:e(()=>[o("h4",K,i(a(l)("forgotPassword.title")),1),o("p",Q,i(a(l)("forgotPassword.description")),1)]),_:1}),t(V,null,{default:e(()=>[t(O,{onSubmit:I(b,["prevent"])},{default:e(()=>[t(h,null,{default:e(()=>[t(n,{cols:"12"},{default:e(()=>[t(v,{modelValue:m.value,"onUpdate:modelValue":s[0]||(s[0]=k=>m.value=k),autofocus:"",label:a(l)("forgotPassword.emailLabel"),type:"email",placeholder:a(l)("forgotPassword.emailPlaceholder")},null,8,["modelValue","label","placeholder"])]),_:1}),t(n,{cols:"12"},{default:e(()=>[t(B,{block:"",type:"submit",loading:c.value},{default:e(()=>[N(i(a(l)("forgotPassword.submit")),1)]),_:1},8,["loading"])]),_:1}),r.value?(p(),T(n,{key:0,cols:"12"},{default:e(()=>[o("p",W,i(r.value),1)]),_:1})):L("",!0),t(n,{cols:"12"},{default:e(()=>[t(f,{class:"d-flex align-center justify-center",to:{name:"login"}},{default:e(()=>[t(M,{icon:"tabler-chevron-left",size:"20",class:"me-1 flip-in-rtl"}),o("span",null,i(a(l)("forgotPassword.backToLogin")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}};export{vt as default};
