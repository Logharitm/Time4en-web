import{N,F as A}from"./front-page-navbar-BXIRJJrh.js";import{_ as P,A as B}from"./AccountSettingsSecurity-QJP4DioQ.js";import{$ as T}from"./api-CCCWawqD.js";import{a as _,V as k}from"./VRow-BHpjpDiG.js";import{V as E}from"./VCard-YoQpe74l.js";import{V as w}from"./VCardText-BIlRbNjS.js";import{cx as F,r as n,E as L,f as g,o as r,e as s,b as a,cB as M,k as V,d as i,c,t as e,l as D,s as C,ai as q,_ as I,dl as G}from"./main-C82GA9DC.js";import{V as R,a as U}from"./VAlert-C2vxTeXn.js";import{V as W}from"./VSpacer-BKixth5A.js";/* empty css                                                                      */import{V as z}from"./VContainer-Bxn4PVPz.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vue3-perfect-scrollbar-Bhgsug3m.js";import"./VNodeRenderer-C-sQc-xs.js";import"./NavBarNotifications-CTe_kQVm.js";/* empty css                                                      */import"./VBadge-CmWp6gnr.js";import"./VImg-rV3Lc1jV.js";import"./VMenu-DIl31Ms0.js";import"./VOverlay-XOCFOuU4.js";import"./easing-Bybner-F.js";import"./delay-B-5T_dYt.js";import"./lazy-Bee-bjBv.js";import"./scopeId-B0BqqiWz.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-B3G8FYD5.js";import"./VChip-BvKcIeDB.js";import"./VSlideGroup-aVg4z432.js";import"./VAvatar-CIhBzFyr.js";import"./VDivider-tEhhwesc.js";import"./VList-UA4jYgEi.js";import"./ssrBoot-B3Z4OlJV.js";import"./index-CvOPxmL5.js";/* empty css              */import"./VNavigationDrawer-d6fg_Gc_.js";import"./VToolbar-DsPGeKL1.js";import"./AppTextField-DuGK7Lw-.js";import"./form-Boy5REB5.js";import"./VTextField-00_MaNF9.js";/* empty css                   */import"./VCounter-DUeMfMZf.js";import"./VField-AZVpOnT0.js";import"./VInput-CY9I6iEQ.js";import"./VSnackbar-DT9F6xAf.js";import"./VForm-DXPitjqG.js";const H={class:"mb-6"},O={class:"text-body-1 text-high-emphasis font-weight-medium mb-1"},Y={key:0},j={key:1},J={class:"text-base mb-0"},K={key:0},Q={key:1},X={key:0,class:"mb-6"},Z={class:"text-body-1 text-high-emphasis font-weight-medium mb-1"},tt={key:1,class:"mb-6"},et={class:"text-body-1 text-high-emphasis font-weight-medium mb-1"},at={key:2},ot={class:"text-body-1 text-high-emphasis font-weight-medium mb-1"},st={class:"me-2"},it={class:"d-flex font-weight-medium text-body-1 text-high-emphasis mt-6 mb-1"},rt={class:"text-body-2 mt-1 mb-0"},nt={__name:"AccountSettingsBillingAndPlans",setup(x){const{locale:v}=F(),d=n(null),o=n(null),p=n(0),h=n(!0),$=async()=>{var t,l,f;h.value=!0;try{const m=await T("/user",{method:"GET"}),u=(t=m==null?void 0:m.data)==null?void 0:t.user;if(u&&(d.value=u,o.value=((l=u.subscription)==null?void 0:l.plan)||null,(f=u.subscription)!=null&&f.end_date)){const b=new Date(u.subscription.end_date),S=new Date;p.value=Math.max(0,Math.ceil((b-S)/(1e3*60*60*24)))}}catch(m){console.error("Error fetching user data:",m)}finally{h.value=!1}},y=(t,l)=>v.value==="ar"?t:l;return L(()=>{$()}),(t,l)=>(r(),g(k,null,{default:s(()=>[a(_,{cols:"12"},{default:s(()=>[a(E,{title:t.$t("Current Plan")},{default:s(()=>[h.value?(r(),g(w,{key:0},{default:s(()=>[a(M,{indeterminate:"",color:"primary"})]),_:1})):(r(),g(w,{key:1},{default:s(()=>[a(k,null,{default:s(()=>[a(_,{cols:"12",md:"6"},{default:s(()=>{var f,m,u,b;return[i("div",null,[i("div",H,[i("h3",O,[o.value?(r(),c("span",Y,e(y(o.value.name,o.value.name_en)),1)):(r(),c("span",j,e(t.$t("None")),1)),i("p",J,[o.value?(r(),c("span",K,e(y(o.value.description,o.value.description_en)),1)):(r(),c("span",Q,e(t.$t("No active subscription")),1))])])]),(m=(f=d.value)==null?void 0:f.subscription)!=null&&m.end_date?(r(),c("div",X,[i("h3",Z,e(t.$t("Active until"))+" : "+e(new Date(d.value.subscription.end_date).toLocaleDateString(D(v)==="ar"?"ar-EG":"en-US")),1)])):V("",!0),(b=(u=d.value)==null?void 0:u.subscription)!=null&&b.end_date?(r(),c("div",tt,[i("h3",et,e(t.$t("Words Count"))+" : "+e(o.value.words_limit),1)])):V("",!0),o.value?(r(),c("div",at,[i("h3",ot,[C(e(t.$t("Price"))+" : ",1),i("span",st," $"+e(o.value.price)+" "+e(t.$t("Per Month")),1)])])):V("",!0)])]}),_:1}),o.value?(r(),g(_,{key:0,cols:"12",md:"6"},{default:s(()=>[a(R,{icon:"tabler-alert-triangle",type:"warning",variant:"tonal"},{default:s(()=>[a(U,{class:"mb-1"},{default:s(()=>[C(e(t.$t("We need your attention"))+"!",1)]),_:1}),i("span",null,e(t.$t("Your plan requires update")),1),i("h6",it,[i("span",null,e(t.$t("Days")),1),a(W),i("span",null,e(p.value)+" "+e(t.$t("of"))+" "+e(o.value.duration_months*30)+" "+e(t.$t("Days")),1)]),a(q,{color:"primary",rounded:"","model-value":100-p.value/(o.value.duration_months*30)*100},null,8,["model-value"]),i("p",rt,e(p.value)+" "+e(t.$t("days remaining until your plan requires update")),1)]),_:1})]),_:1})):V("",!0)]),_:1})]),_:1}))]),_:1},8,["title"])]),_:1})]),_:1}))}},lt={class:"landing-page-wrapper"},te={__name:"profile",setup(x){const v=I();v.skin="default";const d=n(),o=n(),p=n(),h=n(),$=n(),y=n();return G([o,p,h,$,y],([{isIntersecting:t,target:l}])=>{t&&(d.value=l.id)},{threshold:.25}),(t,l)=>(r(),c("div",lt,[a(N,{"active-id":D(d)},null,8,["active-id"]),a(z,{class:"page-content-wrapper mt-16"},{default:s(()=>[a(_,{cols:"12 mt-8"},{default:s(()=>[a(P)]),_:1}),a(_,{cols:"12"},{default:s(()=>[a(B)]),_:1}),a(_,{cols:"12"},{default:s(()=>[a(nt)]),_:1})]),_:1}),a(A)]))}};export{te as default};
