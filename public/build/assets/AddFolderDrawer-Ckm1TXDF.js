import{r as N}from"./validators-DpYrMFzk.js";import{bR as O,r as s,E as $,f as g,e as r,o as q,b as e,l,ak as A,a5 as v,s as _,t as w,ax as B}from"./main-_u0VpwdW.js";import{_ as S}from"./AppTextarea-BvroZFAq.js";import{_ as U}from"./AppTextField-BKY7Obat.js";import{_ as E}from"./AppDrawerHeaderSection-Cz0-yVi7.js";import{C as I}from"./vue3-perfect-scrollbar-DsNSLueY.js";import{$ as M}from"./api-DBVzJU_T.js";import{V as R}from"./VNavigationDrawer-CZVp_2s8.js";import{V as h}from"./VDivider-DCgBXANJ.js";import{V as G}from"./VCard-B79k58Wt.js";import{V as H}from"./VCardText-BXlXaIa1.js";import{V as P}from"./VForm-DpCPVz3_.js";import{V as j,a as c}from"./VRow-i_HvfX8c.js";import"./helpers-DK5QwNv0.js";import"./form-Bd_IIAXy.js";import"./VTextarea-N6SXexQV.js";/* empty css                   */import"./VCounter-Cxl8Biwl.js";import"./VImg-DBcGFj66.js";import"./VField-CjbtAOEx.js";import"./easing-Bybner-F.js";import"./VInput-Dv2Gho2e.js";import"./forwardRefs-C-GTDzx5.js";import"./VTextField-Dk0lU6Et.js";import"./VSpacer-q2Pc9Q7Y.js";/* empty css              */import"./VAvatar-D1mmdnuk.js";import"./index-CvOPxmL5.js";import"./delay-DLyh6RJL.js";import"./scopeId-CMzkkR7P.js";import"./ssrBoot-kUT6Wreq.js";const xe={__name:"AddFolderDrawer",props:{isDrawerOpen:{type:Boolean,required:!0}},emits:["update:isDrawerOpen","folder-data"],setup(D,{emit:b}){const{t:i}=O(),y=D,u=b,V=s(!1),m=s(),x=s(null),p=s(""),d=s(""),F=s([]);$(async()=>{try{const o=await M("/users?role=user",{method:"GET"});F.value=o.data||[]}catch(o){console.error("Error fetching users",o)}});const f=()=>{u("update:isDrawerOpen",!1),B(()=>{var o,a;(o=m.value)==null||o.reset(),(a=m.value)==null||a.resetValidation(),x.value=null,p.value="",d.value=""})},C=()=>{var o;(o=m.value)==null||o.validate().then(({valid:a})=>{if(a){const n=new FormData;n.append("name",p.value),n.append("description",d.value||""),u("folder-data",n),f()}})};return(o,a)=>{const n=E,k=U,T=S;return q(),g(R,{temporary:"",width:400,location:"end",class:"scrollable-content","model-value":y.isDrawerOpen,"onUpdate:modelValue":a[3]||(a[3]=t=>u("update:isDrawerOpen",t))},{default:r(()=>[e(n,{title:l(i)("addNewFolder"),onCancel:f},null,8,["title"]),e(h),e(l(I),{options:{wheelPropagation:!1}},{default:r(()=>[e(G,{flat:""},{default:r(()=>[e(H,null,{default:r(()=>[e(P,{ref_key:"refForm",ref:m,modelValue:V.value,"onUpdate:modelValue":a[2]||(a[2]=t=>V.value=t),onSubmit:A(C,["prevent"])},{default:r(()=>[e(j,null,{default:r(()=>[e(c,{cols:"12"},{default:r(()=>[e(k,{modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=t=>p.value=t),label:l(i)("folderName"),rules:["requiredValidator"in o?o.requiredValidator:l(N)]},null,8,["modelValue","label","rules"])]),_:1}),e(c,{cols:"12"},{default:r(()=>[e(T,{modelValue:d.value,"onUpdate:modelValue":a[1]||(a[1]=t=>d.value=t),label:l(i)("description"),type:"text"},null,8,["modelValue","label"])]),_:1}),e(c,{cols:"12"},{default:r(()=>[e(v,{type:"submit",class:"me-3"},{default:r(()=>[_(w(l(i)("save")),1)]),_:1}),e(v,{type:"reset",variant:"tonal",color:"error",onClick:f},{default:r(()=>[_(w(l(i)("cancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}};export{xe as default};
