import{N as J,F as K}from"./front-page-navbar-CfN99MCp.js";import{_ as Q,r as l,dl as X,V as Y,i as ee,E as te,a as ae,c as g,o as p,b as e,e as t,d as f,k as E,t as s,a5 as u,s as i,Z as O,F as oe,h as re,f as le,p as se,ax as ie}from"./main-r5bmmuWQ.js";import ne from"./AddFolderDrawer-vD2RPCC4.js";import de from"./EditFolderDrawer-BcbYjnlx.js";import{$ as y}from"./api-EloGVOaf.js";import{a as v,V as x}from"./VRow-CEsEJglO.js";import{V as I}from"./VContainer-Dtza7PzN.js";import{V as L,d as S,b as ue}from"./VCard-DGerPMk6.js";import{V as N}from"./VCardText-DBpXmHPb.js";import{V as me}from"./VMenu-DVo4QAIr.js";import{c as ce,a as B,b as R}from"./VList-DGdTrPIL.js";import{V as pe}from"./VPagination-BybBj_P8.js";import{V as fe}from"./VSpacer-DG5Asd7s.js";import{V as ve}from"./VDialog-CdCGHvXc.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vue3-perfect-scrollbar-BISSIM6K.js";import"./VNodeRenderer-TpAb8IdB.js";import"./NavBarNotifications-iu0dI1-E.js";/* empty css                                                      */import"./VBadge-BJ3gEYP_.js";import"./VImg-D2zU12hz.js";import"./VChip-CCaC3J-W.js";import"./VSlideGroup-COrxtia5.js";import"./VAvatar-BS7bkXta.js";import"./VDivider-BZWXGl3E.js";import"./index-CvOPxmL5.js";import"./VOverlay-BacqU_CO.js";import"./easing-Bybner-F.js";import"./delay-1yQ5k86k.js";import"./lazy-0Y6S5H2H.js";import"./scopeId-Bjihn7Ji.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-DaST_Slz.js";import"./ssrBoot-CihhQ_tl.js";/* empty css              */import"./VNavigationDrawer-Cb4z06DM.js";import"./VToolbar-Dfv9mzp8.js";import"./validators-DpYrMFzk.js";import"./helpers-DK5QwNv0.js";import"./AppTextarea-Byb1EVH6.js";import"./form-BaJUJw3K.js";import"./VTextarea-DFqb36SZ.js";/* empty css                   */import"./VCounter-B4qo7bYW.js";import"./VField-C2khvQyN.js";import"./VInput-BRCWVEBr.js";import"./AppTextField-Cy1eepAm.js";import"./VTextField-D0ZkBYpn.js";import"./AppDrawerHeaderSection-Pbuw4vtV.js";import"./VForm-DYlhTiT2.js";const _e={class:"landing-page-wrapper"},Ve={id:"folders"},ge={class:"d-flex justify-space-between align-center mb-6"},ye={class:"text-h4"},$e={class:"card-title-bar"},be={class:"text-body-6 font-bold mb-4",style:{"font-size":"18px","line-height":"30px"}},we={key:0,class:"text-center py-6"},he={key:1,class:"d-flex justify-center my-6"},bt={__name:"folders",setup(ke){const U=Q();U.skin="default";const h=l(),A=l(),M=l(),j=l(),q=l(),z=l();X([A,M,j,q,z],([{isIntersecting:o,target:a}])=>{o&&(h.value=a.id)},{threshold:.25});const k=l([]),_=l(!1),$=l(!1),b=l(!1),C=l(null),m=l(!1),V=l(null),G=o=>{V.value=o,m.value=!0},n=l(1),D=l(20),F=l(0),T=Y(()=>Math.ceil(F.value/D.value)),H=async()=>{if(V.value)try{await y(`/folders/${V.value}/delete`,{method:"POST"}),c(n.value)}catch(o){console.error("Error deleting folder",o)}finally{m.value=!1,V.value=null}},c=async(o=1)=>{_.value=!0;try{const a=await y(`/folders?page=${o}`,{method:"GET"});a.status==="success"&&a.data&&(k.value=a.data,a.meta&&(n.value=a.meta.current_page,D.value=a.meta.per_page,F.value=a.meta.total))}catch(a){console.error("Error fetching folders",a)}finally{_.value=!1}},P=ee(),W=async o=>{try{const d=(await y("/folders",{method:"POST",body:o})).data.id;if(c(n.value),d){const r=`/words/${d}`;P.currentRoute.value.fullPath!==r&&await ie(()=>P.replace(r))}}catch(a){console.error("Error adding folder",a)}},Z=async(o,a)=>{try{await y(`/folders/${o}/update`,{method:"POST",body:a}),c(n.value)}catch(d){console.error("Error editing folder",d)}};return te(()=>{c(n.value)}),(o,a)=>{const d=ae("RouterLink");return p(),g("div",_e,[e(J,{"active-id":h.value},null,8,["active-id"]),e(I,{class:"page-content-wrapper mt-16"},{default:t(()=>[e(v,{cols:"12 mt-8"},{default:t(()=>[f("div",Ve,[e(I,null,{default:t(()=>[f("div",ge,[f("h4",ye,s(o.$t("Folders")),1),e(u,{color:"primary",onClick:a[0]||(a[0]=r=>$.value=!0)},{default:t(()=>[e(O,{class:"tabler-folder-plus ml-2"}),i(" "+s(o.$t("Add Folder")),1)]),_:1})]),e(x,null,{default:t(()=>[(p(!0),g(oe,null,re(k.value,r=>(p(),le(v,{key:r.id,cols:"12",sm:"6",lg:"4"},{default:t(()=>[e(L,null,{default:t(()=>[f("div",$e,[e(O,{class:"tabler-folder ml-2"}),i(" "+s(r.name),1)]),e(N,{class:"pa-6"},{default:t(()=>[f("p",be,s(r.description),1)]),_:2},1024),e(S,{class:"pa-0 card-actions-bordered"},{default:t(()=>[e(x,{"no-gutters":"",class:"w-100"},{default:t(()=>[e(v,{cols:"4"},{default:t(()=>[e(me,{location:"top","open-on-hover":""},{activator:t(({props:w})=>[e(u,se({block:"",color:"primary",variant:"outlined",ref_for:!0},w),{default:t(()=>[i(s(o.$t("manage folders")),1)]),_:2},1040)]),default:t(()=>[e(ce,null,{default:t(()=>[e(B,{onClick:w=>(C.value=r,b.value=!0)},{default:t(()=>[e(R,null,{default:t(()=>[i(s(o.$t("Edit")),1)]),_:1})]),_:2},1032,["onClick"]),e(B,{onClick:w=>G(r.id)},{default:t(()=>[e(R,null,{default:t(()=>[i(s(o.$t("Delete")),1)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(v,{cols:"4",class:"btn-divider"},{default:t(()=>[e(d,{to:`/words/${r.id}`},{default:t(()=>[e(u,{block:"",color:"primary",variant:"outlined"},{default:t(()=>[i(s(o.$t("Words"))+" ( "+s(r.words_count)+" ) ",1)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024),e(v,{cols:"4",class:"btn-divider"},{default:t(()=>[e(u,{block:"",color:"primary",variant:"outlined"},{default:t(()=>[i(s(o.$t("Practice")),1)]),_:1})]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),_.value?(p(),g("div",we,s(o.$t("Loading"))+"... ",1)):E("",!0),!_.value&&T.value>1?(p(),g("div",he,[e(pe,{modelValue:n.value,"onUpdate:modelValue":[a[1]||(a[1]=r=>n.value=r),c],length:T.value,"total-visible":"7"},null,8,["modelValue","length"])])):E("",!0)]),_:1})])]),_:1})]),_:1}),e(K),e(ne,{"is-drawer-open":$.value,"onUpdate:isDrawerOpen":a[2]||(a[2]=r=>$.value=r),onFolderData:W},null,8,["is-drawer-open"]),e(de,{"is-drawer-open":b.value,"onUpdate:isDrawerOpen":a[3]||(a[3]=r=>b.value=r),"folder-data":C.value,onFolderData:Z},null,8,["is-drawer-open","folder-data"]),e(ve,{modelValue:m.value,"onUpdate:modelValue":a[5]||(a[5]=r=>m.value=r),"max-width":"500px"},{default:t(()=>[e(L,null,{default:t(()=>[e(ue,{class:"text-h6"},{default:t(()=>[i(s(o.$t("confirm delete")),1)]),_:1}),e(N,null,{default:t(()=>[i(s(o.$t("confirm_message")),1)]),_:1}),e(S,{class:"px-6 pb-4"},{default:t(()=>[e(fe),e(u,{color:"error",variant:"flat",onClick:a[4]||(a[4]=r=>m.value=!1)},{default:t(()=>[i(s(o.$t("cancel")),1)]),_:1}),e(u,{color:"success",variant:"flat",onClick:H},{default:t(()=>[i(s(o.$t("confirm")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}};export{bt as default};
