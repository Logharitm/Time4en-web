import{a as E,f as ot,b as lt}from"./formatters-Cw2xOObF.js";import{cQ as nt,a as R,c as b,k as A,l as t,o as d,d as s,b as e,e as r,Z as p,v as S,f as V,t as C,a0 as L,s as M,F as I,V as F,a5 as w,cR as it,I as Z,h as O,J as K,r as U,cS as rt,bN as ct,w as dt,as as ut,cT as W,$ as mt,aA as X}from"./main-ati8xvH6.js";import{C as q}from"./vue3-perfect-scrollbar-BU0pCFSp.js";import{u as ht}from"./useApi-BWoeB6ny.js";import{c as ft}from"./createUrl-DwQASd48.js";import{$ as Y}from"./api-B8XarYXo.js";import{V as T}from"./VAvatar-bih18Hak.js";import{V as B}from"./VImg-CqGYfzkJ.js";import{V as z}from"./VBadge-Dq-21MbO.js";import{_ as pt}from"./AppTextField-BghX37xa.js";import{V as et}from"./VDivider-BHYnGZVE.js";import{_ as vt}from"./AppTextarea-CBMfMzvZ.js";import{a as bt,V as xt}from"./VRadioGroup--aPVAWJY.js";import{V as G}from"./VSwitch-DeJNgOj_.js";import{u as gt,a as Ct,V as _t}from"./useResponsiveSidebar-CEDfNatJ.js";import{V as j}from"./VNavigationDrawer-DePwwTkA.js";import{V as yt}from"./VSpacer-Cg3yOwu2.js";import{V as $t}from"./VForm-DLGANjsJ.js";import{V as Vt}from"./VTextField-BtK2TFKt.js";import"./helpers-DK5QwNv0.js";import"./index-CvOPxmL5.js";import"./form-BHcokMEG.js";import"./VTextarea-D_GA7_Ly.js";/* empty css                   */import"./VCounter-B8JWvb_e.js";import"./VField-DKy7DUWd.js";import"./easing-Bybner-F.js";import"./VInput--0QYvzuB.js";import"./forwardRefs-C-GTDzx5.js";import"./VSelectionControl-d5f6WD7D.js";import"./ssrBoot-pFNmaLdJ.js";import"./delay-TxzeKsv_.js";import"./scopeId-7InUGSEQ.js";/* empty css              */const P=()=>({resolveAvatarBadgeVariant:n=>n==="online"?"success":n==="busy"?"error":n==="away"?"warning":"secondary"}),D=nt("chat",{state:()=>({contacts:[],chatsContacts:[],profileUser:void 0,activeChat:null}),actions:{async fetchChatsAndContacts(_){const{data:n,error:o}=await ht(ft("/apps/chat/chats-and-contacts",{query:{q:_}}));if(o.value)console.log(o.value);else{const{chatsContacts:m,contacts:v,profileUser:a}=n.value;this.chatsContacts=m,this.contacts=v,this.profileUser=a}},async getChat(_){const n=await Y(`/apps/chat/chats/${_}`);this.activeChat=n},async sendMsg(_){var h,i,l,f,y;const n=(h=this.profileUser)==null?void 0:h.id,o=await Y(`apps/chat/chats/${(i=this.activeChat)==null?void 0:i.contact.id}`,{method:"POST",body:{message:_,senderId:n}}),{msg:m,chat:v}=o;if(v!==void 0){const u=this.activeChat;this.chatsContacts.push({...u.contact,chat:{id:v.id,lastMessage:[],unseenMsgs:0,messages:[m]}}),this.activeChat&&(this.activeChat.chat={id:v.id,messages:[m],unseenMsgs:0,userId:(l=this.activeChat)==null?void 0:l.contact.id})}else(y=(f=this.activeChat)==null?void 0:f.chat)==null||y.messages.push(m);const a=this.chatsContacts.find(u=>this.activeChat?u.id===this.activeChat.contact.id:!1);a.chat.lastMessage=m}}}),kt={class:"text-center px-6"},wt={key:1,class:"text-3xl"},Ut={class:"text-h5"},It={class:"text-capitalize text-body-1 mb-0"},St={class:"my-6"},At={class:"mt-1 mb-6"},Tt={class:"mb-6"},zt={class:"d-flex align-center text-high-emphasis pa-2"},Bt={class:"d-flex align-center text-high-emphasis pa-2"},Dt={class:"d-flex align-center text-high-emphasis pa-2"},Nt={class:"d-flex align-center text-high-emphasis pa-2"},Mt={class:"d-flex align-center text-high-emphasis pa-2"},Ot={class:"d-flex align-center text-high-emphasis pa-2"},Pt={class:"d-flex align-center text-high-emphasis pa-2"},Lt={class:"d-flex align-center text-high-emphasis pa-2"},Ft={__name:"ChatActiveChatUserProfileSidebarContent",emits:["close"],setup(_,{emit:n}){const o=D(),{resolveAvatarBadgeVariant:m}=P();return(v,a)=>{const h=R("IconBtn");return t(o).activeChat?(d(),b(I,{key:0},[s("div",{class:S(["pt-6 px-6",v.$vuetify.locale.isRtl?"text-left":"text-right"])},[e(h,{onClick:a[0]||(a[0]=i=>v.$emit("close"))},{default:r(()=>[e(p,{icon:"tabler-x",class:"text-medium-emphasis"})]),_:1})],2),s("div",kt,[e(z,{location:"bottom right","offset-x":"7","offset-y":"4",bordered:"",color:t(m)(t(o).activeChat.contact.status),class:"chat-user-profile-badge mb-5"},{default:r(()=>[e(T,{size:"84",variant:t(o).activeChat.contact.avatar?void 0:"tonal",color:t(o).activeChat.contact.avatar?void 0:t(m)(t(o).activeChat.contact.status)},{default:r(()=>[t(o).activeChat.contact.avatar?(d(),V(B,{key:0,src:t(o).activeChat.contact.avatar},null,8,["src"])):(d(),b("span",wt,C(("avatarText"in v?v.avatarText:t(E))(t(o).activeChat.contact.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),s("h5",Ut,C(t(o).activeChat.contact.fullName),1),s("p",It,C(t(o).activeChat.contact.role),1)]),e(t(q),{class:"ps-chat-user-profile-sidebar-content text-medium-emphasis pb-6 px-6",options:{wheelPropagation:!1}},{default:r(()=>[s("div",St,[a[1]||(a[1]=s("div",{class:"text-sm text-disabled"}," ABOUT ",-1)),s("p",At,C(t(o).activeChat.contact.about),1)]),s("div",Tt,[a[5]||(a[5]=s("div",{class:"text-sm text-disabled mb-1"}," PERSONAL INFORMATION ",-1)),s("div",zt,[e(p,{class:"me-2",icon:"tabler-mail",size:"22"}),a[2]||(a[2]=s("div",{class:"text-base"}," lucifer@email.com ",-1))]),s("div",Bt,[e(p,{class:"me-2",icon:"tabler-phone",size:"22"}),a[3]||(a[3]=s("div",{class:"text-base"}," +1(123) 456 - 7890 ",-1))]),s("div",Dt,[e(p,{class:"me-2",icon:"tabler-clock",size:"22"}),a[4]||(a[4]=s("div",{class:"text-base"}," Mon - Fri 10AM - 8PM ",-1))])]),s("div",null,[a[12]||(a[12]=s("div",{class:"text-sm text-disabled mb-1"}," OPTIONS ",-1)),s("div",Nt,[e(p,{class:"me-2",icon:"tabler-badge",size:"22"}),a[6]||(a[6]=s("div",{class:"text-base"}," Add Tag ",-1))]),s("div",Mt,[e(p,{class:"me-2",icon:"tabler-star",size:"22"}),a[7]||(a[7]=s("div",{class:"text-base"}," Important Contact ",-1))]),s("div",Ot,[e(p,{class:"me-2",icon:"tabler-photo",size:"22"}),a[8]||(a[8]=s("div",{class:"text-base"}," Shared Media ",-1))]),s("div",Pt,[e(p,{class:"me-2",icon:"tabler-trash",size:"22"}),a[9]||(a[9]=s("div",{class:"text-base"}," Delete Contact ",-1))]),s("div",Lt,[e(p,{icon:"tabler-ban",class:"me-2",size:"22"}),a[10]||(a[10]=s("div",{class:"text-base"}," Block Contact ",-1))]),e(L,{block:"",color:"error","append-icon":"tabler-trash",class:"mt-6"},{default:r(()=>a[11]||(a[11]=[M(" Delete Contact ")])),_:1,__:[11]})])]),_:1})],64)):A("",!0)}}},Et={key:1},Rt={class:"flex-grow-1 ms-4 overflow-hidden"},qt={class:"text-base text-high-emphasis mb-0"},jt={class:"mb-0 text-truncate text-body-2"},Jt={key:0,class:"d-flex flex-column align-self-start"},Ht={class:"text-body-2 text-disabled whitespace-no-wrap"},tt={__name:"ChatContact",props:{isChatContact:{type:Boolean,required:!1,default:!1},user:{type:null,required:!0}},setup(_){const n=_,o=D(),{resolveAvatarBadgeVariant:m}=P(),v=F(()=>{var h,i;const a=((h=o.activeChat)==null?void 0:h.contact.id)===n.user.id;return(n.isChatContact||!((i=o.activeChat)!=null&&i.chat))&&a});return(a,h)=>(d(),b("li",{key:t(o).chatsContacts.length,class:S(["chat-contact cursor-pointer d-flex align-center",{"chat-contact-active":t(v)}])},[e(z,{dot:"",location:"bottom right","offset-x":"3","offset-y":"0",color:t(m)(n.user.status),bordered:"","model-value":n.isChatContact},{default:r(()=>[e(T,{size:"40",variant:n.user.avatar?void 0:"tonal",color:n.user.avatar?void 0:t(m)(n.user.status)},{default:r(()=>[n.user.avatar?(d(),V(B,{key:0,src:n.user.avatar,alt:"John Doe"},null,8,["src"])):(d(),b("span",Et,C(("avatarText"in a?a.avatarText:t(E))(_.user.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color","model-value"]),s("div",Rt,[s("p",qt,C(n.user.fullName),1),s("p",jt,C(n.isChatContact&&"chat"in n.user?n.user.chat.lastMessage.message:n.user.about),1)]),n.isChatContact&&"chat"in n.user?(d(),b("div",Jt,[s("div",Ht,C(("formatDateToMonthShort"in a?a.formatDateToMonthShort:t(ot))(n.user.chat.lastMessage.time)),1),n.user.chat.unseenMsgs?(d(),V(z,{key:0,color:"error",inline:"",content:n.user.chat.unseenMsgs,class:"ms-auto"},null,8,["content"])):A("",!0)])):A("",!0)],2))}},Qt={key:0,class:"chat-list-header"},Zt={class:"no-chat-items-text text-disabled"},Kt={class:"no-chat-items-text text-disabled"},Wt={__name:"ChatLeftSidebarContent",props:{search:{type:String,required:!0},isDrawerOpen:{type:Boolean,required:!0}},emits:["openChatOfContact","showUserProfile","close","update:search"],setup(_,{emit:n}){const o=_,m=n,{resolveAvatarBadgeVariant:v}=P(),a=it(o,"search",m),h=D();return(i,l)=>{const f=pt,y=R("IconBtn");return d(),b(I,null,[t(h).profileUser?(d(),b("div",Qt,[e(z,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:t(v)(t(h).profileUser.status),bordered:""},{default:r(()=>[e(T,{size:"40",class:"cursor-pointer",onClick:l[0]||(l[0]=u=>i.$emit("showUserProfile"))},{default:r(()=>[e(B,{src:t(h).profileUser.avatar,alt:"John Doe"},null,8,["src"])]),_:1})]),_:1},8,["color"]),e(f,{id:"search",modelValue:t(a),"onUpdate:modelValue":l[1]||(l[1]=u=>w(a)?a.value=u:null),placeholder:"Search...","prepend-inner-icon":"tabler-search",class:"ms-4 me-1 chat-list-search"},null,8,["modelValue"]),i.$vuetify.display.smAndDown?(d(),V(y,{key:0,onClick:l[2]||(l[2]=u=>i.$emit("close"))},{default:r(()=>[e(p,{icon:"tabler-x",class:"text-medium-emphasis"})]),_:1})):A("",!0)])):A("",!0),e(et),e(t(q),{tag:"ul",class:"d-flex flex-column gap-y-1 chat-contacts-list px-3 py-2 list-none",options:{wheelPropagation:!1}},{default:r(()=>[l[3]||(l[3]=s("li",{class:"list-none"},[s("h5",{class:"chat-contact-header text-primary text-h5"}," Chats ")],-1)),(d(!0),b(I,null,O(t(h).chatsContacts,u=>(d(),V(tt,{key:`chat-${u.id}`,user:u,"is-chat-contact":"",onClick:k=>i.$emit("openChatOfContact",u.id)},null,8,["user","onClick"]))),128)),Z(s("span",Zt,"No chats found",512),[[K,!t(h).chatsContacts.length]]),l[4]||(l[4]=s("li",{class:"list-none pt-2"},[s("h5",{class:"chat-contact-header text-primary text-h5"}," Contacts ")],-1)),(d(!0),b(I,null,O(t(h).contacts,u=>(d(),V(tt,{key:`chat-${u.id}`,user:u,onClick:k=>i.$emit("openChatOfContact",u.id)},null,8,["user","onClick"]))),128)),Z(s("span",Kt,"No contacts found",512),[[K,!t(h).contacts.length]])]),_:1,__:[3,4]})],64)}}},Xt={class:"chat-log pa-6"},Yt={class:"mb-0 text-base"},Gt={class:"text-sm ms-2 text-disabled"},te={__name:"ChatLog",setup(_){const n=D(),o=F(()=>{var a,h;return{id:(a=n.activeChat)==null?void 0:a.contact.id,avatar:(h=n.activeChat)==null?void 0:h.contact.avatar}}),m=a=>a.isSeen?{icon:"tabler-checks",color:"success"}:a.isDelivered?{icon:"tabler-checks",color:void 0}:{icon:"tabler-check",color:void 0},v=F(()=>{let a=[];const h=[];if(n.activeChat.chat){a=n.activeChat.chat.messages;let i=a[0].senderId,l={senderId:i,messages:[]};a.forEach((f,y)=>{i===f.senderId?l.messages.push({message:f.message,time:f.time,feedback:f.feedback}):(i=f.senderId,h.push(l),l={senderId:f.senderId,messages:[{message:f.message,time:f.time,feedback:f.feedback}]}),y===a.length-1&&h.push(l)})}return h});return(a,h)=>(d(),b("div",Xt,[(d(!0),b(I,null,O(t(v),(i,l)=>(d(),b("div",{key:i.senderId+String(l),class:S(["chat-group d-flex align-start",[{"flex-row-reverse":i.senderId!==t(o).id,"mb-6":t(v).length-1!==l}]])},[s("div",{class:S(["chat-avatar",i.senderId!==t(o).id?"ms-4":"me-4"])},[e(T,{size:"32"},{default:r(()=>{var f;return[e(B,{src:i.senderId===t(o).id?t(o).avatar:(f=t(n).profileUser)==null?void 0:f.avatar},null,8,["src"])]}),_:2},1024)],2),s("div",{class:S(["chat-body d-inline-flex flex-column",i.senderId!==t(o).id?"align-end":"align-start"])},[(d(!0),b(I,null,O(i.messages,(f,y)=>(d(),b("div",{key:f.time,class:S(["chat-content py-2 px-4 elevation-2",[i.senderId===t(o).id?"chat-left":"bg-primary text-white chat-right",i.messages.length-1!==y?"mb-2":"mb-1"]]),style:{"background-color":"rgb(var(--v-theme-surface))"}},[s("p",Yt,C(f.message),1)],2))),128)),s("div",{class:S({"text-right":i.senderId!==t(o).id})},[i.senderId!==t(o).id?(d(),V(p,{key:0,size:"16",color:m(i.messages[i.messages.length-1].feedback).color},{default:r(()=>[M(C(m(i.messages[i.messages.length-1].feedback).icon),1)]),_:2},1032,["color"])):A("",!0),s("span",Gt,C(("formatDate"in a?a.formatDate:t(lt))(i.messages[i.messages.length-1].time,{hour:"numeric",minute:"numeric"})),1)],2)],2)],2))),128))]))}},ee={class:"pt-2 me-2 text-end"},se={class:"text-center px-6"},ae={key:1,class:"text-3xl"},oe={class:"text-h5"},le={class:"text-capitalize text-medium-emphasis mb-0"},ne={class:"my-6 text-medium-emphasis"},ie={class:"mb-6"},re={class:"text-medium-emphasis chat-settings-section"},ce={class:"d-flex align-center pa-2"},de={class:"text-high-emphasis d-flex align-center justify-space-between flex-grow-1"},ue={class:"d-flex align-center pa-2"},me={class:"text-high-emphasis d-flex align-center justify-space-between flex-grow-1"},he={class:"d-flex align-center pa-2"},fe={class:"d-flex align-center pa-2"},pe={__name:"ChatUserProfileSidebarContent",emits:["close"],setup(_,{emit:n}){const o=D(),{resolveAvatarBadgeVariant:m}=P(),v=[{title:"Online",value:"online",color:"success"},{title:"Away",value:"away",color:"warning"},{title:"Do not disturb",value:"busy",color:"error"},{title:"Offline",value:"offline",color:"secondary"}],a=U(!0),h=U(!1);return(i,l)=>{const f=R("IconBtn"),y=vt;return t(o).profileUser?(d(),b(I,{key:0},[s("div",ee,[e(f,{onClick:l[0]||(l[0]=u=>i.$emit("close"))},{default:r(()=>[e(p,{class:"text-medium-emphasis",color:"disabled",icon:"tabler-x"})]),_:1})]),s("div",se,[e(z,{location:"bottom right","offset-x":"7","offset-y":"4",bordered:"",color:t(m)(t(o).profileUser.status),class:"chat-user-profile-badge mb-3"},{default:r(()=>[e(T,{size:"84",variant:t(o).profileUser.avatar?void 0:"tonal",color:t(o).profileUser.avatar?void 0:t(m)(t(o).profileUser.status)},{default:r(()=>[t(o).profileUser.avatar?(d(),V(B,{key:0,src:t(o).profileUser.avatar},null,8,["src"])):(d(),b("span",ae,C(("avatarText"in i?i.avatarText:t(E))(t(o).profileUser.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),s("h5",oe,C(t(o).profileUser.fullName),1),s("p",le,C(t(o).profileUser.role),1)]),e(t(q),{class:"ps-chat-user-profile-sidebar-content pb-5 px-6",options:{wheelPropagation:!1}},{default:r(()=>[s("div",ne,[l[5]||(l[5]=s("div",{for:"textarea-user-about",class:"text-base text-disabled"}," ABOUT ",-1)),e(y,{id:"textarea-user-about",modelValue:t(o).profileUser.about,"onUpdate:modelValue":l[1]||(l[1]=u=>t(o).profileUser.about=u),"auto-grow":"",class:"mt-1",rows:"3"},null,8,["modelValue"])]),s("div",ie,[l[6]||(l[6]=s("div",{class:"text-base text-disabled"}," STATUS ",-1)),e(bt,{modelValue:t(o).profileUser.status,"onUpdate:modelValue":l[2]||(l[2]=u=>t(o).profileUser.status=u),class:"mt-1"},{default:r(()=>[(d(),b(I,null,O(v,(u,k)=>e(xt,{id:`${k}`,key:u.title,name:u.title,label:u.title,value:u.value,color:u.color},null,8,["id","name","label","value","color"])),64))]),_:1},8,["modelValue"])]),s("div",re,[l[11]||(l[11]=s("div",{class:"text-base text-disabled"}," SETTINGS ",-1)),s("div",ce,[e(p,{class:"me-2 text-high-emphasis",icon:"tabler-lock",size:"22"}),s("div",de,[l[7]||(l[7]=s("div",{class:"text-body-1 text-high-emphasis"}," Two-step Verification ",-1)),e(G,{id:"two-step-verification",modelValue:t(a),"onUpdate:modelValue":l[3]||(l[3]=u=>w(a)?a.value=u:null),density:"compact"},null,8,["modelValue"])])]),s("div",ue,[e(p,{class:"me-2 text-high-emphasis",icon:"tabler-bell",size:"22"}),s("div",me,[l[8]||(l[8]=s("div",{class:"text-body-1 text-high-emphasis"}," Notification ",-1)),e(G,{id:"chat-notification",modelValue:t(h),"onUpdate:modelValue":l[4]||(l[4]=u=>w(h)?h.value=u:null),density:"compact"},null,8,["modelValue"])])]),s("div",he,[e(p,{class:"me-2 text-high-emphasis",icon:"tabler-user-plus",size:"22"}),l[9]||(l[9]=s("div",{class:"text-body-1 text-high-emphasis"}," Invite Friends ",-1))]),s("div",fe,[e(p,{class:"me-2 text-high-emphasis",icon:"tabler-trash",size:"22"}),l[10]||(l[10]=s("div",{class:"text-body-1 text-high-emphasis"}," Delete Account ",-1))])]),e(L,{color:"primary",class:"mt-12",block:"","append-icon":"tabler-logout"},{default:r(()=>l[12]||(l[12]=[M(" Logout ")])),_:1,__:[12]})]),_:1})],64)):A("",!0)}}},ve={key:0,class:"d-flex flex-column h-100"},be={class:"active-chat-header d-flex align-center text-medium-emphasis bg-surface"},xe={key:1},ge={class:"flex-grow-1 ms-4 overflow-hidden"},Ce={class:"text-h6 mb-0 font-weight-regular"},_e={class:"text-truncate mb-0 text-body-2"},ye={class:"d-sm-flex align-center d-none text-medium-emphasis"},$e={class:"d-flex gap-1"},Ve={class:"d-none d-md-block"},ke={key:1,class:"d-flex h-100 align-center justify-center flex-column"},we={key:1,style:{"max-inline-size":"40ch","text-wrap":"balance"},class:"text-center text-disabled"},is={__name:"chat",setup(_){rt(g=>({"5df97900":t(at)}));const n=ct(),o=D(),{isLeftSidebarOpen:m}=gt(n.smAndDown),{resolveAvatarBadgeVariant:v}=P(),a=U(),h=()=>{const g=a.value.$el||a.value;g.scrollTop=g.scrollHeight},i=U("");dt(i,g=>o.fetchChatsAndContacts(g),{immediate:!0});const l=()=>{n.mdAndUp.value||(m.value=!0)},f=U(""),y=async()=>{f.value&&(await o.sendMsg(f.value),f.value="",X(()=>{h()}))},u=async g=>{await o.getChat(g),f.value="";const c=o.chatsContacts.find($=>$.id===g);c&&(c.chat.unseenMsgs=0),n.smAndDown.value&&(m.value=!1),X(()=>{h()})},k=U(!1),N=U(!1),J=U(),{name:st}=ut(),at=F(()=>{var c,$;let g="transparent";return W&&(g=($=(c=W)==null?void 0:c[st.value].colors)==null?void 0:$.background),g});return(g,c)=>{const $=R("IconBtn");return d(),V(_t,{class:"chat-app-layout",style:{"z-index":"0"}},{default:r(()=>[e(j,{modelValue:t(k),"onUpdate:modelValue":c[1]||(c[1]=x=>w(k)?k.value=x:null),"data-allow-mismatch":"",temporary:"",touchless:"",absolute:"",class:"user-profile-sidebar",location:"start",width:"370"},{default:r(()=>[e(pe,{onClose:c[0]||(c[0]=x=>k.value=!1)})]),_:1},8,["modelValue"]),e(j,{modelValue:t(N),"onUpdate:modelValue":c[3]||(c[3]=x=>w(N)?N.value=x:null),"data-allow-mismatch":"",width:"374",absolute:"",temporary:"",location:"end",touchless:"",class:"active-chat-user-profile-sidebar"},{default:r(()=>[e(Ft,{onClose:c[2]||(c[2]=x=>N.value=!1)})]),_:1},8,["modelValue"]),e(j,{modelValue:t(m),"onUpdate:modelValue":c[8]||(c[8]=x=>w(m)?m.value=x:null),"data-allow-mismatch":"",absolute:"",touchless:"",location:"start",width:"370",temporary:g.$vuetify.display.smAndDown,class:"chat-list-sidebar",permanent:g.$vuetify.display.mdAndUp},{default:r(()=>[e(Wt,{"is-drawer-open":t(m),"onUpdate:isDrawerOpen":c[4]||(c[4]=x=>w(m)?m.value=x:null),search:t(i),"onUpdate:search":c[5]||(c[5]=x=>w(i)?i.value=x:null),onOpenChatOfContact:u,onShowUserProfile:c[6]||(c[6]=x=>k.value=!0),onClose:c[7]||(c[7]=x=>m.value=!1)},null,8,["is-drawer-open","search"])]),_:1},8,["modelValue","temporary","permanent"]),e(Ct,{class:"chat-content-container"},{default:r(()=>[t(o).activeChat?(d(),b("div",ve,[s("div",be,[e($,{class:"d-md-none me-3",onClick:c[9]||(c[9]=x=>m.value=!0)},{default:r(()=>[e(p,{icon:"tabler-menu-2"})]),_:1}),s("div",{class:"d-flex align-center cursor-pointer",onClick:c[10]||(c[10]=x=>N.value=!0)},[e(z,{dot:"",location:"bottom right","offset-x":"3","offset-y":"0",color:t(v)(t(o).activeChat.contact.status),bordered:""},{default:r(()=>[e(T,{size:"40",variant:t(o).activeChat.contact.avatar?void 0:"tonal",color:t(o).activeChat.contact.avatar?void 0:t(v)(t(o).activeChat.contact.status),class:"cursor-pointer"},{default:r(()=>[t(o).activeChat.contact.avatar?(d(),V(B,{key:0,src:t(o).activeChat.contact.avatar,alt:t(o).activeChat.contact.fullName},null,8,["src","alt"])):(d(),b("span",xe,C(("avatarText"in g?g.avatarText:t(E))(t(o).activeChat.contact.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),s("div",ge,[s("div",Ce,C(t(o).activeChat.contact.fullName),1),s("p",_e,C(t(o).activeChat.contact.role),1)])]),e(yt),s("div",ye,[e($,null,{default:r(()=>[e(p,{icon:"tabler-phone"})]),_:1}),e($,null,{default:r(()=>[e(p,{icon:"tabler-video"})]),_:1}),e($,null,{default:r(()=>[e(p,{icon:"tabler-search"})]),_:1}),e($,null,{default:r(()=>[e(p,{icon:"tabler-dots-vertical"})]),_:1})])]),e(et),e(t(q),{ref_key:"chatLogPS",ref:a,tag:"ul",options:{wheelPropagation:!1},class:"flex-grow-1"},{default:r(()=>[e(te)]),_:1},512),e($t,{class:"chat-log-message-form mb-5 mx-5",onSubmit:mt(y,["prevent"])},{default:r(()=>{var x;return[(d(),V(Vt,{key:(x=t(o).activeChat)==null?void 0:x.contact.id,modelValue:t(f),"onUpdate:modelValue":c[12]||(c[12]=H=>w(f)?f.value=H:null),variant:"solo",density:"default",class:"chat-message-input",placeholder:"Type your message...",autofocus:""},{"append-inner":r(()=>[s("div",$e,[e($,null,{default:r(()=>[e(p,{icon:"tabler-microphone",size:"22"})]),_:1}),e($,{onClick:c[11]||(c[11]=H=>{var Q;return(Q=t(J))==null?void 0:Q.click()})},{default:r(()=>[e(p,{icon:"tabler-paperclip",size:"22"})]),_:1}),s("div",Ve,[e(L,{"append-icon":"tabler-send",onClick:y},{default:r(()=>c[13]||(c[13]=[M(" Send ")])),_:1,__:[13]})]),e($,{class:"d-block d-md-none",onClick:y},{default:r(()=>[e(p,{icon:"tabler-send"})]),_:1})])]),_:1},8,["modelValue"])),s("input",{ref_key:"refInputEl",ref:J,type:"file",name:"file",accept:".jpeg,.png,.jpg,GIF",hidden:""},null,512)]}),_:1})])):(d(),b("div",ke,[e(T,{size:"98",variant:"tonal",color:"primary",class:"mb-4"},{default:r(()=>[e(p,{size:"50",class:"rounded-0",icon:"tabler-message-2"})]),_:1}),g.$vuetify.display.smAndDown?(d(),V(L,{key:0,rounded:"pill",onClick:l},{default:r(()=>c[14]||(c[14]=[M(" Start Conversation ")])),_:1,__:[14]})):(d(),b("p",we," Start connecting with the people by selecting one of the contact on left "))]))]),_:1})]),_:1})}}};export{is as default};
