import{N as J,F as K}from"./front-page-navbar-DCKXTrGI.js";import{_ as Q,r as l,dl as X,V as Y,i as ee,E as te,a as oe,c as g,o as f,b as t,e as o,d as c,k as P,t as i,a5 as u,s,Z as E,F as ae,h as re,f as le,p as se,ax as ie}from"./main-Buooeazs.js";import ne from"./AddFolderDrawer-CCGRhgkb.js";import de from"./EditFolderDrawer-DyPRaduh.js";import{$ as y}from"./api-uKQMEw1Y.js";import{a as v,V as O}from"./VRow-BcoryuSp.js";import{V as I}from"./VContainer-DcK6KxQW.js";import{V as L,d as S,b as ue}from"./VCard-BTbWDGHM.js";import{V as N}from"./VCardText-oSvKZv6T.js";import{V as me}from"./VMenu-BAhWsY9T.js";import{c as pe,a as B,b as R}from"./VList-u2nGPrJe.js";import{V as fe}from"./VPagination-D38RqOb6.js";import{V as ce}from"./VSpacer-DB0mSR9j.js";import{V as ve}from"./VDialog-DAF_lHa_.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vue3-perfect-scrollbar-DqIZH1Uk.js";import"./VNodeRenderer-BnkIkwon.js";import"./NavBarNotifications-CExtq9R4.js";/* empty css                                                      */import"./VBadge-CpkMI3IJ.js";import"./VImg--AoPooaC.js";import"./VChip-l_PbC1tA.js";import"./VSlideGroup-wwX-W2zN.js";import"./VAvatar-CkASEzQQ.js";import"./VDivider-DRV0Ilys.js";import"./index-CvOPxmL5.js";import"./VOverlay-UhAw-ZqM.js";import"./easing-Bybner-F.js";import"./delay-DF-w_YHW.js";import"./lazy-kxOnTNRp.js";import"./scopeId-BeSVlV_o.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-CuDUH75R.js";import"./ssrBoot-DFTTPjDv.js";/* empty css              */import"./I18n-B8nkapb7.js";import"./VNavigationDrawer-exJElk6P.js";import"./VToolbar-Sm5zhHZW.js";import"./validators-DpYrMFzk.js";import"./helpers-DK5QwNv0.js";import"./AppTextarea-wjkOsZOw.js";import"./form-DUZPa8df.js";import"./VTextarea-Cyz4Smur.js";/* empty css                   */import"./VCounter-BXXntpG3.js";import"./VField-DppAX2b5.js";import"./VInput-CKL19ZnS.js";import"./AppTextField-OypOW1RS.js";import"./VTextField-D1ul6krf.js";import"./AppDrawerHeaderSection-CSYdWDeO.js";import"./VForm-CldupZH8.js";const _e={class:"landing-page-wrapper"},Ve={id:"folders"},ge={class:"d-flex justify-space-between align-center mb-6"},ye={class:"text-h4"},be={class:"card-title-bar"},we={class:"text-body-6 font-bold mb-4",style:{"font-size":"18px","line-height":"30px"}},ke={key:0,class:"text-center py-6"},$e={key:1,class:"d-flex justify-center my-6"},kt={__name:"folders",setup(Ce){const U=Q();U.skin="default";const $=l(),A=l(),M=l(),j=l(),q=l(),z=l();X([A,M,j,q,z],([{isIntersecting:r,target:e}])=>{r&&($.value=e.id)},{threshold:.25});const C=l([]),_=l(!1),b=l(!1),w=l(!1),D=l(null),m=l(!1),V=l(null),G=r=>{V.value=r,m.value=!0},n=l(1),F=l(20),h=l(0),x=Y(()=>Math.ceil(h.value/F.value)),H=async()=>{if(V.value)try{await y(`/folders/${V.value}/delete`,{method:"POST"}),p(n.value)}catch(r){console.error("Error deleting folder",r)}finally{m.value=!1,V.value=null}},p=async(r=1)=>{_.value=!0;try{const e=await y(`/folders?page=${r}`,{method:"GET"});e.status==="success"&&e.data&&(C.value=e.data,e.meta&&(n.value=e.meta.current_page,F.value=e.meta.per_page,h.value=e.meta.total))}catch(e){console.error("Error fetching folders",e)}finally{_.value=!1}},T=ee(),W=async r=>{try{const d=(await y("/folders",{method:"POST",body:r})).data.id;if(p(n.value),d){const a=`/words/${d}`;T.currentRoute.value.fullPath!==a&&await ie(()=>T.replace(a))}}catch(e){console.error("Error adding folder",e)}},Z=async(r,e)=>{try{await y(`/folders/${r}/update`,{method:"POST",body:e}),p(n.value)}catch(d){console.error("Error editing folder",d)}};return te(()=>{p(n.value)}),(r,e)=>{const d=oe("RouterLink");return f(),g("div",_e,[t(J,{"active-id":$.value},null,8,["active-id"]),t(I,{class:"page-content-wrapper mt-16"},{default:o(()=>[t(v,{cols:"12 mt-8"},{default:o(()=>[c("div",Ve,[t(I,null,{default:o(()=>[c("div",ge,[c("h4",ye,i(r.$t("Folders")),1),t(u,{color:"primary",onClick:e[0]||(e[0]=a=>b.value=!0)},{default:o(()=>[t(E,{class:"tabler-folder-plus ml-2"}),s(" "+i(r.$t("Add Folder")),1)]),_:1})]),t(O,null,{default:o(()=>[(f(!0),g(ae,null,re(C.value,a=>(f(),le(v,{key:a.id,cols:"12",sm:"6",lg:"4"},{default:o(()=>[t(L,null,{default:o(()=>[c("div",be,[t(E,{class:"tabler-folder ml-2"}),s(" "+i(a.name),1)]),t(N,{class:"pa-6"},{default:o(()=>[c("p",we,i(a.description),1)]),_:2},1024),t(S,{class:"pa-0 card-actions-bordered"},{default:o(()=>[t(O,{"no-gutters":"",class:"w-100"},{default:o(()=>[t(v,{cols:"4"},{default:o(()=>[t(me,{location:"top","open-on-hover":""},{activator:o(({props:k})=>[t(u,se({block:"",color:"primary",variant:"outlined",ref_for:!0},k),{default:o(()=>e[6]||(e[6]=[s(" ادارة المجلد ")])),_:2,__:[6]},1040)]),default:o(()=>[t(pe,null,{default:o(()=>[t(B,{onClick:k=>(D.value=a,w.value=!0)},{default:o(()=>[t(R,null,{default:o(()=>[s(i(r.$t("Edit")),1)]),_:1})]),_:2},1032,["onClick"]),t(B,{onClick:k=>G(a.id)},{default:o(()=>[t(R,null,{default:o(()=>[s(i(r.$t("Delete")),1)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024),t(v,{cols:"4",class:"btn-divider"},{default:o(()=>[t(d,{to:`/words/${a.id}`},{default:o(()=>[t(u,{block:"",color:"primary",variant:"outlined"},{default:o(()=>[s(i(r.$t("Words"))+" ( "+i(a.words_count)+" ) ",1)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024),t(v,{cols:"4",class:"btn-divider"},{default:o(()=>[t(u,{block:"",color:"primary",variant:"outlined"},{default:o(()=>[s(i(r.$t("Practice")),1)]),_:1})]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),_.value?(f(),g("div",ke,i(r.$t("Loading"))+"... ",1)):P("",!0),!_.value&&x.value>1?(f(),g("div",$e,[t(fe,{modelValue:n.value,"onUpdate:modelValue":[e[1]||(e[1]=a=>n.value=a),p],length:x.value,"total-visible":"7"},null,8,["modelValue","length"])])):P("",!0)]),_:1})])]),_:1})]),_:1}),t(K),t(ne,{"is-drawer-open":b.value,"onUpdate:isDrawerOpen":e[2]||(e[2]=a=>b.value=a),onFolderData:W},null,8,["is-drawer-open"]),t(de,{"is-drawer-open":w.value,"onUpdate:isDrawerOpen":e[3]||(e[3]=a=>w.value=a),"folder-data":D.value,onFolderData:Z},null,8,["is-drawer-open","folder-data"]),t(ve,{modelValue:m.value,"onUpdate:modelValue":e[5]||(e[5]=a=>m.value=a),"max-width":"500px"},{default:o(()=>[t(L,null,{default:o(()=>[t(ue,{class:"text-h6"},{default:o(()=>e[7]||(e[7]=[s(" تأكيد الحذف ")])),_:1,__:[7]}),t(N,null,{default:o(()=>e[8]||(e[8]=[s(" هل أنت متأكد أنك تريد حذف هذا المجلد؟ لا يمكن التراجع عن هذا الإجراء. ")])),_:1,__:[8]}),t(S,{class:"px-6 pb-4"},{default:o(()=>[t(ce),t(u,{color:"error",variant:"flat",onClick:e[4]||(e[4]=a=>m.value=!1)},{default:o(()=>e[9]||(e[9]=[s(" إلغاء ")])),_:1,__:[9]}),t(u,{color:"success",variant:"flat",onClick:H},{default:o(()=>e[10]||(e[10]=[s(" موافق ")])),_:1,__:[10]})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}};export{kt as default};
