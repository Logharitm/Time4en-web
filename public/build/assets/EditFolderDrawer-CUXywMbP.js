import{r as C}from"./validators-DpYrMFzk.js";import{bR as O,r as f,w as T,f as q,e as o,o as B,b as e,l,ak as N,a5 as D,s as w,t as b,ax as S}from"./main-_u0VpwdW.js";import{_ as U}from"./AppTextarea-BvroZFAq.js";import{_ as g}from"./AppTextField-BKY7Obat.js";import{_ as A}from"./AppDrawerHeaderSection-Cz0-yVi7.js";import{C as $}from"./vue3-perfect-scrollbar-DsNSLueY.js";import{V as j}from"./VNavigationDrawer-CZVp_2s8.js";import{V as R}from"./VDivider-DCgBXANJ.js";import{V as E}from"./VCard-B79k58Wt.js";import{V as H}from"./VCardText-BXlXaIa1.js";import{V as I}from"./VForm-DpCPVz3_.js";import{V as M,a as _}from"./VRow-i_HvfX8c.js";import"./helpers-DK5QwNv0.js";import"./form-Bd_IIAXy.js";import"./VTextarea-N6SXexQV.js";/* empty css                   */import"./VCounter-Cxl8Biwl.js";import"./VImg-DBcGFj66.js";import"./VField-CjbtAOEx.js";import"./easing-Bybner-F.js";import"./VInput-Dv2Gho2e.js";import"./forwardRefs-C-GTDzx5.js";import"./VTextField-Dk0lU6Et.js";import"./VSpacer-q2Pc9Q7Y.js";/* empty css              */import"./VAvatar-D1mmdnuk.js";import"./delay-DLyh6RJL.js";import"./scopeId-CMzkkR7P.js";import"./ssrBoot-kUT6Wreq.js";const ve={__name:"EditFolderDrawer",props:{isDrawerOpen:{type:Boolean,required:!0},folderData:{type:Object,default:()=>({})}},emits:["update:isDrawerOpen","folder-data"],setup(y,{emit:x}){const{t:i}=O(),s=y,c=x,v=f(!1),n=f(),d=f(""),p=f("");T(()=>s.folderData,t=>{t&&Object.keys(t).length>0&&(d.value=t.name||"",p.value=t.description||"")},{immediate:!0});const V=()=>{c("update:isDrawerOpen",!1),S(()=>{var t,a;(t=n.value)==null||t.reset(),(a=n.value)==null||a.resetValidation()})},F=()=>{var t;(t=n.value)==null||t.validate().then(({valid:a})=>{var u;if(a&&((u=s.folderData)!=null&&u.id)){const m=new FormData;m.append("name",d.value),m.append("description",p.value||""),c("folder-data",s.folderData.id,m),V()}})};return(t,a)=>{const u=A,m=g,k=U;return B(),q(j,{temporary:"",width:400,location:"end",class:"scrollable-content","model-value":s.isDrawerOpen,"onUpdate:modelValue":a[3]||(a[3]=r=>c("update:isDrawerOpen",r))},{default:o(()=>[e(u,{title:l(i)("editFolder"),onCancel:V},null,8,["title"]),e(R),e(l($),null,{default:o(()=>[e(E,{flat:""},{default:o(()=>[e(H,null,{default:o(()=>[e(I,{ref_key:"refForm",ref:n,modelValue:v.value,"onUpdate:modelValue":a[2]||(a[2]=r=>v.value=r),onSubmit:N(F,["prevent"])},{default:o(()=>[e(M,null,{default:o(()=>[e(_,{cols:"12"},{default:o(()=>[e(m,{modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=r=>d.value=r),label:l(i)("folderName"),rules:["requiredValidator"in t?t.requiredValidator:l(C)]},null,8,["modelValue","label","rules"])]),_:1}),e(_,{cols:"12"},{default:o(()=>[e(k,{modelValue:p.value,"onUpdate:modelValue":a[1]||(a[1]=r=>p.value=r),label:l(i)("description"),type:"text"},null,8,["modelValue","label"])]),_:1}),e(_,{cols:"12"},{default:o(()=>[e(D,{type:"submit",class:"me-3"},{default:o(()=>[w(b(l(i)("update")),1)]),_:1}),e(D,{type:"reset",variant:"tonal",color:"error",onClick:V},{default:o(()=>[w(b(l(i)("cancel")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}};export{ve as default};
