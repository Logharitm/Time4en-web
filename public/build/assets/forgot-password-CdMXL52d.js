import{_ as P}from"./AppTextField-BD2ThzWX.js";import{aA as y,r as u,a as C,c as F,o as p,b as t,e,d as o,l as a,G as _,t as i,ak as I,f as T,k as L,a5 as B,s as N,Z as M,F as R}from"./main-C55JWWSZ.js";import{u as g}from"./useGenerateImageVariant-kXt9_EYf.js";import{V as j}from"./VNodeRenderer-CYs4cga8.js";import{a as D,b as S}from"./auth-v2-forgot-password-illustration-light-SXBFhqP4.js";import{m as $,a as A}from"./misc-mask-light-Bi5cOsdU.js";import{$ as E}from"./api-8McqDxYb.js";import{a as n,V as h}from"./VRow-C-Jl-9t9.js";import{V as G}from"./VImg-EUFq3VeO.js";import{V as z}from"./VCard-CE_wsU_u.js";import{V}from"./VCardText-CwCXq_Oc.js";import{V as O}from"./VForm-CocvnZM1.js";import"./form-C6dNrxMZ.js";import"./VTextField-GF-nAgS2.js";/* empty css                   */import"./VCounter-BF0speoV.js";import"./VField-BqYEOQIs.js";import"./easing-Bybner-F.js";import"./VInput-BE1Efjeu.js";import"./forwardRefs-C-GTDzx5.js";import"./index-CvOPxmL5.js";/* empty css              */import"./VAvatar-B5yaoYy7.js";const U={class:"auth-logo d-flex align-center gap-x-3"},Z={class:"auth-title"},q={class:"position-relative bg-background w-100 me-0"},H={class:"d-flex align-center justify-center w-100 h-100",style:{"padding-inline":"150px"}},J=["src"],K={class:"text-h4 mb-1"},Q={class:"mb-0"},W={class:"text-center text-success"},xt={__name:"forgot-password",setup(X){const{t:l}=y(),m=u(""),r=u(""),c=u(!1),w=g(S,D),b=g(A,$),v=async()=>{var d;c.value=!0,r.value="";try{const s=await E("/forgot-password",{method:"POST",body:{email:m.value}});r.value=s.message||l("forgotPassword.success")}catch(s){(d=s==null?void 0:s.errors)!=null&&d.email?r.value=s.errors.email[0]:r.value=l("forgotPassword.unexpectedError")}finally{c.value=!1}};return(d,s)=>{const f=C("RouterLink"),x=P;return p(),F(R,null,[t(f,{to:"/"},{default:e(()=>[o("div",U,[t(a(j),{nodes:a(_).app.logo},null,8,["nodes"]),o("h1",Z,i(a(_).app.title),1)])]),_:1}),t(h,{class:"auth-wrapper bg-surface","no-gutters":""},{default:e(()=>[t(n,{md:"8",class:"d-none d-md-flex"},{default:e(()=>[o("div",q,[o("div",H,[t(G,{"max-width":"468",src:a(w),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),o("img",{class:"auth-footer-mask",src:a(b),alt:"footer-mask",height:"280",width:"100"},null,8,J)])]),_:1}),t(n,{cols:"12",md:"4",class:"d-flex align-center justify-center"},{default:e(()=>[t(z,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:e(()=>[t(V,null,{default:e(()=>[o("h4",K,i(a(l)("forgotPassword.title")),1),o("p",Q,i(a(l)("forgotPassword.description")),1)]),_:1}),t(V,null,{default:e(()=>[t(O,{onSubmit:I(v,["prevent"])},{default:e(()=>[t(h,null,{default:e(()=>[t(n,{cols:"12"},{default:e(()=>[t(x,{modelValue:m.value,"onUpdate:modelValue":s[0]||(s[0]=k=>m.value=k),autofocus:"",label:a(l)("forgotPassword.emailLabel"),type:"email",placeholder:a(l)("forgotPassword.emailPlaceholder")},null,8,["modelValue","label","placeholder"])]),_:1}),t(n,{cols:"12"},{default:e(()=>[t(B,{block:"",type:"submit",loading:c.value},{default:e(()=>[N(i(a(l)("forgotPassword.submit")),1)]),_:1},8,["loading"])]),_:1}),r.value?(p(),T(n,{key:0,cols:"12"},{default:e(()=>[o("p",W,i(r.value),1)]),_:1})):L("",!0),t(n,{cols:"12"},{default:e(()=>[t(f,{class:"d-flex align-center justify-center",to:{name:"login"}},{default:e(()=>[t(M,{icon:"tabler-chevron-left",size:"20",class:"me-1 flip-in-rtl"}),o("span",null,i(a(l)("forgotPassword.backToLogin")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}};export{xt as default};
