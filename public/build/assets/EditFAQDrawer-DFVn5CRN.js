import{r as q}from"./validators-DpYrMFzk.js";import{r as u,w as O,f as k,e as o,o as E,b as l,l as r,a_ as B,aU as p,ae as U,s as C,aZ as R}from"./main-CfNsrW5X.js";import{_ as T}from"./AppTextField-1v8EtKwG.js";import{_ as g}from"./AppDrawerHeaderSection-GyL0AwsL.js";import{C as S}from"./vue3-perfect-scrollbar-DWkZM5c9.js";import{V as M}from"./VNavigationDrawer-Cnwz6J30.js";import{V as Q}from"./VDivider-D6cLcLYm.js";import{V as $}from"./VCard-BwNB_HAq.js";import{V as j}from"./VCardText-UmcD3uX4.js";import{V as H}from"./VForm-ByAkZWzG.js";import{V as I,a as f}from"./VRow-D9bkbwLr.js";import"./helpers-DK5QwNv0.js";import"./form-Dho8Ouqi.js";import"./VTextField-H4qGtiT3.js";/* empty css                   */import"./VCounter-DPVeqQ4H.js";import"./VImg-tZlraYhF.js";import"./VField-v42BI7p0.js";import"./easing-Bybner-F.js";import"./VInput-DQO5F0Vq.js";import"./forwardRefs-C-GTDzx5.js";import"./VSpacer-CTjEbtYZ.js";/* empty css              */import"./VAvatar-Dc7XDQH2.js";import"./delay-bGRiBgiz.js";import"./scopeId-DkOV9qZL.js";import"./ssrBoot-DmFgaC2p.js";const ve={__name:"EditFAQDrawer",props:{isDrawerOpen:{type:Boolean,required:!0},faqData:{type:Object,default:null}},emits:["update:isDrawerOpen","faqData"],setup(F,{emit:y}){const c=F,w=y,D=u(!1),V=u(),b=u(null),n=u(""),s=u(""),d=u(""),m=u("");O(()=>c.faqData,e=>{e&&(b.value=e.id,n.value=e.question,s.value=e.answer,d.value=e.question_en,m.value=e.answer_en)});const _=()=>{w("update:isDrawerOpen",!1),R(()=>{var e,a;(e=V.value)==null||e.reset(),(a=V.value)==null||a.resetValidation()})},A=()=>{var e;(e=V.value)==null||e.validate().then(({valid:a})=>{if(a){const i=new FormData;i.append("question",n.value),i.append("answer",s.value),i.append("question_en",d.value),i.append("answer_en",m.value),w("faqData",b.value,i),_()}})},N=e=>{w("update:isDrawerOpen",e)};return(e,a)=>{const i=g,v=T;return E(),k(M,{"data-allow-mismatch":"",temporary:"",width:400,location:"end",class:"scrollable-content","model-value":c.isDrawerOpen,"onUpdate:modelValue":N},{default:o(()=>[l(i,{title:"تعديل سؤال",onCancel:_}),l(Q),l(r(S),{options:{wheelPropagation:!1}},{default:o(()=>[l($,{flat:""},{default:o(()=>[l(j,null,{default:o(()=>[l(H,{ref_key:"refForm",ref:V,modelValue:r(D),"onUpdate:modelValue":a[4]||(a[4]=t=>p(D)?D.value=t:null),onSubmit:B(A,["prevent"])},{default:o(()=>[l(I,null,{default:o(()=>[l(f,{cols:"12"},{default:o(()=>[l(v,{modelValue:r(n),"onUpdate:modelValue":a[0]||(a[0]=t=>p(n)?n.value=t:null),rules:["requiredValidator"in e?e.requiredValidator:r(q)],label:"السؤال (AR)"},null,8,["modelValue","rules"])]),_:1}),l(f,{cols:"12"},{default:o(()=>[l(v,{modelValue:r(s),"onUpdate:modelValue":a[1]||(a[1]=t=>p(s)?s.value=t:null),rules:["requiredValidator"in e?e.requiredValidator:r(q)],label:"الإجابة (AR)"},null,8,["modelValue","rules"])]),_:1}),l(f,{cols:"12"},{default:o(()=>[l(v,{modelValue:r(d),"onUpdate:modelValue":a[2]||(a[2]=t=>p(d)?d.value=t:null),rules:["requiredValidator"in e?e.requiredValidator:r(q)],label:"Question (EN)"},null,8,["modelValue","rules"])]),_:1}),l(f,{cols:"12"},{default:o(()=>[l(v,{modelValue:r(m),"onUpdate:modelValue":a[3]||(a[3]=t=>p(m)?m.value=t:null),rules:["requiredValidator"in e?e.requiredValidator:r(q)],label:"Answer (EN)"},null,8,["modelValue","rules"])]),_:1}),l(f,{cols:"12"},{default:o(()=>[l(U,{type:"submit",class:"me-3"},{default:o(()=>a[5]||(a[5]=[C("تحديث")])),_:1,__:[5]}),l(U,{type:"reset",variant:"tonal",color:"error",onClick:_},{default:o(()=>a[6]||(a[6]=[C("إلغاء")])),_:1,__:[6]})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}};export{ve as default};
