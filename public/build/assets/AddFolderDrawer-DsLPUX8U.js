import{r as k}from"./validators-DpYrMFzk.js";import{r as l,E as T,f as O,e as a,o as $,b as o,l as V,ak as q,a5 as c,s as _,ax as A}from"./main-riJjh_1G.js";import{_ as B}from"./AppTextarea-CL4ldzX4.js";import{_ as U}from"./AppTextField-Bb3N9ibn.js";import{_ as g}from"./AppDrawerHeaderSection-HVgPmFJP.js";import{C as E}from"./vue3-perfect-scrollbar-DrpjXL6b.js";import{$ as N}from"./api-Bb1wXm8c.js";import{V as S}from"./VNavigationDrawer-CYDQkmUF.js";import{V as M}from"./VDivider-2n3v39aK.js";import{V as G}from"./VCard-Ww1Gv9Tx.js";import{V as H}from"./VCardText-DboL7g11.js";import{V as I}from"./VForm-2YER7cAh.js";import{V as P,a as d}from"./VRow-7hJ9GT2Z.js";import"./helpers-DK5QwNv0.js";import"./form-BlpgP43R.js";import"./VTextarea-Bjm89-Zn.js";/* empty css                   */import"./VCounter-YeBGQbHS.js";import"./VImg-VG8KoBZL.js";import"./VField-NWSrujQx.js";import"./easing-Bybner-F.js";import"./VInput-CqzO5FYe.js";import"./forwardRefs-C-GTDzx5.js";import"./VTextField-BCjPvh6T.js";import"./VSpacer-hNVef2z3.js";/* empty css              */import"./VAvatar-1VQU8uqf.js";import"./index-CvOPxmL5.js";import"./delay-IIp3UEht.js";import"./scopeId-1yn9D8AQ.js";import"./ssrBoot-jrnc-dAd.js";const De={__name:"AddFolderDrawer",props:{isDrawerOpen:{type:Boolean,required:!0}},emits:["update:isDrawerOpen","folder-data"],setup(v,{emit:w}){const D=v,p=w,f=l(!1),i=l(),x=l(null),m=l(""),n=l(""),y=l([]);T(async()=>{try{const r=await N("/users?role=user",{method:"GET"});y.value=r.data||[]}catch(r){console.error("Error fetching users",r)}});const u=()=>{p("update:isDrawerOpen",!1),A(()=>{var r,e;(r=i.value)==null||r.reset(),(e=i.value)==null||e.resetValidation(),x.value=null,m.value="",n.value=""})},b=()=>{var r;(r=i.value)==null||r.validate().then(({valid:e})=>{if(e){const s=new FormData;s.append("name",m.value),s.append("description",n.value||""),p("folder-data",s),u()}})};return(r,e)=>{const s=g,C=U,F=B;return $(),O(S,{temporary:"",width:400,location:"end",class:"scrollable-content","model-value":D.isDrawerOpen,"onUpdate:modelValue":e[3]||(e[3]=t=>p("update:isDrawerOpen",t))},{default:a(()=>[o(s,{title:"إضافة مجلد جديد",onCancel:u}),o(M),o(V(E),{options:{wheelPropagation:!1}},{default:a(()=>[o(G,{flat:""},{default:a(()=>[o(H,null,{default:a(()=>[o(I,{ref_key:"refForm",ref:i,modelValue:f.value,"onUpdate:modelValue":e[2]||(e[2]=t=>f.value=t),onSubmit:q(b,["prevent"])},{default:a(()=>[o(P,null,{default:a(()=>[o(d,{cols:"12"},{default:a(()=>[o(C,{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=t=>m.value=t),label:"اسم المجلد",rules:["requiredValidator"in r?r.requiredValidator:V(k)]},null,8,["modelValue","rules"])]),_:1}),o(d,{cols:"12"},{default:a(()=>[o(F,{modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=t=>n.value=t),label:"الوصف",type:"text"},null,8,["modelValue"])]),_:1}),o(d,{cols:"12"},{default:a(()=>[o(c,{type:"submit",class:"me-3"},{default:a(()=>e[4]||(e[4]=[_("حفظ")])),_:1,__:[4]}),o(c,{type:"reset",variant:"tonal",color:"error",onClick:u},{default:a(()=>e[5]||(e[5]=[_(" إلغاء ")])),_:1,__:[5]})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}};export{De as default};
