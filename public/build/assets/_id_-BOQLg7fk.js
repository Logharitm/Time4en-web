import{N as Q,F as X}from"./front-page-navbar-B-6rNV8O.js";import Y from"./AddWordDrawer-BGkKcUEb.js";import ee from"./EditWordDrawer-C0HGjwBu.js";import{_ as te,u as oe,r,V as ae,E as le,a as re,c as k,o as s,b as t,e as l,f as m,k as v,s as i,Z as d,t as n,d as u,a5 as c,F as se,h as ne,l as ie}from"./main-DSzMYLzp.js";import{$ as w}from"./api-DfH6QBqv.js";import{V as ue}from"./VBreadcrumbs-Dt_qTJim.js";import{a as h,V as de}from"./VRow-CXKAFC9P.js";import{V as j}from"./VContainer-Bo5tUttY.js";import{V as z,b as ce,d as pe}from"./VCard-DuhDOrWR.js";import{V as O}from"./VCardText-CYf2INNP.js";import{V as me}from"./VPagination-D_e-sj_C.js";import{V as fe}from"./VSpacer-C0KMtbqI.js";import{V as ve}from"./VDialog-BVYGJeUe.js";import{V as _e}from"./VSnackbar-cAfrQJKi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vue3-perfect-scrollbar-CD61MQhq.js";import"./VNodeRenderer-C4t7i_ij.js";import"./NavBarNotifications-DWCgVmQc.js";/* empty css                                                      */import"./VBadge-C0hrQA_P.js";import"./VImg-DNHHYH1j.js";import"./VMenu-C8sperRe.js";import"./VOverlay-B4STW1mc.js";import"./easing-Bybner-F.js";import"./delay-xKSXn8zt.js";import"./lazy-C265PUUC.js";import"./scopeId-D_KEFreD.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-Bo7gOho2.js";import"./VChip-BBSDOnKc.js";import"./VSlideGroup-DP5_Q-g4.js";import"./VAvatar-CS_wgqDD.js";import"./VDivider-Aaq6eqyh.js";import"./VList-DKYD3D7n.js";import"./ssrBoot-BftT6orn.js";import"./index-CvOPxmL5.js";/* empty css              */import"./I18n-zlVMxt3R.js";import"./VNavigationDrawer-vqJV-mq-.js";import"./VToolbar-UM0Eyjq-.js";import"./validators-DpYrMFzk.js";import"./helpers-DK5QwNv0.js";import"./AppTextField-BWx9dSw2.js";import"./form-B1tFRS7d.js";import"./VTextField-CziLb0ab.js";/* empty css                   */import"./VCounter-CgP2sO8g.js";import"./VField-D6MI6Ow5.js";import"./VInput-CPAsoCij.js";import"./AppSelect-BA5iydIU.js";import"./VSelect-D2dW3-oO.js";import"./VCheckboxBtn-BPHfXDUK.js";import"./VSelectionControl-l_Y0JvA-.js";import"./AppDrawerHeaderSection-D3lbPkyF.js";import"./VForm-CPPstvq0.js";const ye={class:"landing-page-wrapper"},ge={key:1,class:"d-flex align-center"},Ve={id:"words"},ke={class:"d-flex justify-space-between align-center mb-6"},we={class:"text-h4"},be={class:"main-word-box d-flex align-center justify-space-between"},xe={class:"translation-en"},Ce={class:"example-box d-flex align-center justify-space-between",style:{direction:"ltr"}},$e={class:"sentence"},he={class:"v-row",style:{padding:"10px"}},Se={key:0,class:"text-center py-6"},De={key:1,class:"d-flex justify-center my-6"},Wt={__name:"[id]",setup(Te){const I=te(),S=oe(),L=r(),P=r([]),_=r(!1),p=r(1),U=r(20),D=r(1),T=r(!1),E=r(!1),A=r(null),y=r(!1),b=r(null),f=r(null),g=r(null),V=async(o=1)=>{_.value=!0;try{const e=await w(`/words?folder_id=${S.params.id}&page=${o}&per_page=${U.value}`,{method:"GET"});e.status==="success"&&e.data&&(P.value=e.data||[],e.meta&&(p.value=e.meta.current_page,U.value=e.meta.per_page,D.value=e.meta.last_page))}catch(e){console.error("Error fetching words",e)}finally{_.value=!1}},R=async()=>{try{const o=await w(`/folders/${S.params.id}`,{method:"GET"});o.status==="success"&&o.data&&(F.value=o.data.name)}catch(o){console.error("Error fetching folder",o)}finally{_.value=!1}},x=r(!1),B=r(""),C=r("success"),$=(o,e="success")=>{B.value=o,C.value=e,x.value=!0},G=async o=>{try{const e=await w("/words",{method:"POST",body:o});if(e.status==="error"){$(e.message||"حدث خطأ أثناء إضافة الكلمة","error");return}V(p.value),$("تم إضافة الكلمة بنجاح","success")}catch(e){console.error(e),e.response&&e.response._data&&e.response._data.message?$(e.response._data.message,"error"):$("حدث خطأ غير متوقع","error")}},M=async(o,e)=>{try{await w(`/words/${o}/update`,{method:"POST",body:e}),V(p.value)}catch(W){console.error("Error editing word",W)}},Z=o=>{b.value=o,y.value=!0};I.skin="default";const q=async()=>{if(b.value)try{await w(`/words/${b.value}/delete`,{method:"POST"}),V(p.value)}catch(o){console.error("Error deleting word",o)}finally{y.value=!1,b.value=null}},H=o=>{if(o.audio_url)if(f.value&&(f.value.pause(),f.value.currentTime=0),g.value===o.id)g.value=null,f.value=null;else{const e=new Audio(o.audio_url);f.value=e,g.value=o.id,e.play(),e.onended=()=>{g.value=null,f.value=null}}};function J(o){if(!o)return;const e=new SpeechSynthesisUtterance(o);e.lang="en-US",speechSynthesis.speak(e)}const F=r(""),K=ae(()=>[{text:"الرئيسية",to:"/",icon:"tabler-home"},{text:"المجلدات",to:"/folders",icon:"tabler-folders"},{text:F.value||"...",to:null},{text:"الكلمات",to:null}]);return le(()=>{R(),V(p.value)}),(o,e)=>{const W=re("RouterLink");return s(),k("div",ye,[t(Q,{"active-id":L.value},null,8,["active-id"]),t(j,{class:"page-content-wrapper",style:{"margin-top":"140px !important"}},{default:l(()=>[t(ue,{items:K.value,divider:">"},{item:l(({item:a})=>[a.to?(s(),m(W,{key:0,to:a.to,class:"d-flex align-center"},{default:l(()=>[a.icon?(s(),m(d,{key:0,icon:a.icon,size:"18",class:"mr-1"},null,8,["icon"])):v("",!0),i(" "+n(a.text),1)]),_:2},1032,["to"])):(s(),k("span",ge,[a.icon?(s(),m(d,{key:0,icon:a.icon,size:"18",class:"mr-1"},null,8,["icon"])):v("",!0),i(" "+n(a.text),1)]))]),_:1},8,["items"]),t(h,{cols:"12 "},{default:l(()=>[u("div",Ve,[t(j,null,{default:l(()=>[u("div",ke,[u("h4",we,n(o.$t("Words")),1),t(c,{color:"primary",onClick:e[0]||(e[0]=a=>T.value=!0)},{default:l(()=>[t(d,{class:"tabler-plus ml-2"}),i(" "+n(o.$t("Add Word")),1)]),_:1})]),t(de,null,{default:l(()=>[(s(!0),k(se,null,ne(P.value,a=>(s(),m(h,{key:a.id,cols:"12",sm:"6",lg:"4"},{default:l(()=>[t(z,{class:"word-card"},{default:l(()=>[u("div",be,[u("span",null,n(a.word),1),a.audio_url?(s(),m(c,{key:0,icon:"",size:"small",color:"white",variant:"text",class:"play-btn",onClick:N=>H(a)},{default:l(()=>[t(d,{icon:g.value===a.id?"tabler-pause":"tabler-play"},null,8,["icon"])]),_:2},1032,["onClick"])):v("",!0)]),t(O,null,{default:l(()=>[u("p",xe,[i(n(o.$t("Translation"))+": ",1),u("b",null,n(a.translation||"-"),1)])]),_:2},1024),t(O,null,{default:l(()=>[u("div",Ce,[u("span",$e,n(a.example_sentence||"-"),1),t(c,{icon:"",color:"primary",size:"small",onClick:N=>J(a.example_sentence)},{default:l(()=>[t(d,{icon:"tabler-volume"})]),_:2},1032,["onClick"])])]),_:2},1024),u("div",he,[t(h,{class:"v-col"},{default:l(()=>[t(c,{color:"primary",variant:"outlined",block:"",onClick:N=>(A.value=a,E.value=!0)},{default:l(()=>[i(n(o.$t("Edit")),1)]),_:2},1032,["onClick"])]),_:2},1024),t(h,{class:"v-col"},{default:l(()=>[t(c,{color:"primary",variant:"outlined",block:"",onClick:N=>Z(a.id)},{default:l(()=>[i(n(o.$t("Delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))]),_:1}),_.value?(s(),k("div",Se,n(o.$t("Loading"))+"... ",1)):v("",!0),!_.value&&D.value>1?(s(),k("div",De,[t(me,{modelValue:p.value,"onUpdate:modelValue":[e[1]||(e[1]=a=>p.value=a),V],length:D.value,"total-visible":"7"},null,8,["modelValue","length"])])):v("",!0)]),_:1})])]),_:1})]),_:1}),t(X),t(Y,{"is-drawer-open":T.value,"onUpdate:isDrawerOpen":e[2]||(e[2]=a=>T.value=a),"folder-id":ie(S).params.id,onWordData:G},null,8,["is-drawer-open","folder-id"]),t(ee,{"is-drawer-open":E.value,"onUpdate:isDrawerOpen":e[3]||(e[3]=a=>E.value=a),"word-data":A.value,onSubmitWord:M},null,8,["is-drawer-open","word-data"]),t(ve,{modelValue:y.value,"onUpdate:modelValue":e[5]||(e[5]=a=>y.value=a),"max-width":"500px"},{default:l(()=>[t(z,null,{default:l(()=>[t(ce,{class:"text-h6"},{default:l(()=>e[8]||(e[8]=[i("تأكيد الحذف")])),_:1,__:[8]}),t(O,null,{default:l(()=>e[9]||(e[9]=[i("هل أنت متأكد أنك تريد حذف هذه الكلمة؟")])),_:1,__:[9]}),t(pe,{class:"px-6 pb-4"},{default:l(()=>[t(fe),t(c,{color:"error",variant:"flat",onClick:e[4]||(e[4]=a=>y.value=!1)},{default:l(()=>e[10]||(e[10]=[i(" إلغاء ")])),_:1,__:[10]}),t(c,{color:"success",variant:"flat",onClick:q},{default:l(()=>e[11]||(e[11]=[i(" موافق ")])),_:1,__:[11]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(_e,{modelValue:x.value,"onUpdate:modelValue":e[7]||(e[7]=a=>x.value=a),color:C.value,location:"top end",timeout:"5000"},{prepend:l(()=>[C.value==="success"?(s(),m(d,{key:0,icon:"tabler-check"})):C.value==="error"?(s(),m(d,{key:1,icon:"tabler-alert-circle"})):v("",!0)]),actions:l(()=>[t(c,{icon:"",variant:"text",color:"white",onClick:e[6]||(e[6]=a=>x.value=!1)},{default:l(()=>[t(d,{icon:"tabler-x"})]),_:1})]),default:l(()=>[i(" "+n(B.value)+" ",1)]),_:1},8,["modelValue","color"])])}}};export{Wt as default};
