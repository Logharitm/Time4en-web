import{$ as y}from"./api-EloGVOaf.js";import{V as w,a as g,b as x,d as C}from"./VCard-DGerPMk6.js";import{V as $}from"./VSnackbar-CbMLQhh6.js";import{V as B,a as _}from"./VTabs-PaRLZyyY.js";import{V as E}from"./VCardText-DBpXmHPb.js";import{V as S}from"./VForm-DYlhTiT2.js";import{V as T}from"./VTextarea-DFqb36SZ.js";import{V as U}from"./VSpacer-DG5Asd7s.js";import{r as n,E as N,w as P,c as A,b as a,e as o,o as d,s as i,a5 as I,t as D,f as v,Z as V}from"./main-r5bmmuWQ.js";import"./index-CvOPxmL5.js";import"./VAvatar-BS7bkXta.js";import"./VImg-D2zU12hz.js";import"./VOverlay-BacqU_CO.js";import"./easing-Bybner-F.js";import"./delay-1yQ5k86k.js";import"./lazy-0Y6S5H2H.js";import"./scopeId-Bjihn7Ji.js";import"./forwardRefs-C-GTDzx5.js";import"./VWindowItem-CLVw4CTR.js";import"./ssrBoot-CihhQ_tl.js";import"./VSlideGroup-COrxtia5.js";import"./form-BaJUJw3K.js";/* empty css                   */import"./VCounter-B4qo7bYW.js";import"./VField-C2khvQyN.js";import"./VInput-BRCWVEBr.js";/* empty css              */const me={__name:"index",setup(F){const p=n(!1),f=n(""),m=n("success"),c=(t,e="success")=>{f.value=t,m.value=e,p.value=!0},r=n("privacy"),s=n({privacy:{content:"",content_en:""},terms:{content:"",content_en:""}}),u=n(!1),b=async t=>{u.value=!0;try{const e=await y(`/policies/${t}`,{method:"GET"});e.status==="success"&&(s.value[t]=e.data)}catch(e){c("حدث خطأ أثناء جلب البيانات","error"),console.error(e)}finally{u.value=!1}},k=async t=>{try{const{content:e,content_en:l}=s.value[t];await y(`/policies/${t}`,{method:"POST",body:{content:e,content_en:l}}),c("تم تعديل البيانات بنجاح","success")}catch(e){c("حدث خطأ أثناء تعديل البيانات","error"),console.error(e)}};return N(()=>b(r.value)),P(r,t=>b(t)),(t,e)=>(d(),A("section",null,[a(w,{class:"mb-6"},{default:o(()=>[a(g,{class:"pb-4"},{default:o(()=>[a(x,null,{default:o(()=>e[5]||(e[5]=[i("الشروط والسياسات")])),_:1,__:[5]})]),_:1}),a(B,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=l=>r.value=l),grow:""},{default:o(()=>[a(_,{value:"privacy"},{default:o(()=>e[6]||(e[6]=[i("سياسة الخصوصية")])),_:1,__:[6]}),a(_,{value:"terms"},{default:o(()=>e[7]||(e[7]=[i("الشروط والأحكام")])),_:1,__:[7]})]),_:1},8,["modelValue"]),a(E,null,{default:o(()=>[a(S,null,{default:o(()=>[a(T,{modelValue:s.value[r.value].content,"onUpdate:modelValue":e[1]||(e[1]=l=>s.value[r.value].content=l),label:"المحتوى (AR)",rows:"10",class:"mb-4",disabled:u.value},null,8,["modelValue","disabled"]),a(T,{modelValue:s.value[r.value].content_en,"onUpdate:modelValue":e[2]||(e[2]=l=>s.value[r.value].content_en=l),label:"المحتوى (EN)",rows:"10",disabled:u.value},null,8,["modelValue","disabled"])]),_:1})]),_:1}),a(C,{class:"px-6 pb-4"},{default:o(()=>[a(U),a(I,{color:"primary",variant:"flat",onClick:e[3]||(e[3]=l=>k(r.value)),loading:u.value},{default:o(()=>e[8]||(e[8]=[i(" تعديل ")])),_:1,__:[8]},8,["loading"])]),_:1})]),_:1}),a($,{modelValue:p.value,"onUpdate:modelValue":e[4]||(e[4]=l=>p.value=l),color:m.value,location:"top end",timeout:"5000"},{prepend:o(()=>[m.value==="success"?(d(),v(V,{key:0,icon:"tabler-check"})):m.value==="error"?(d(),v(V,{key:1,icon:"tabler-alert-circle"})):(d(),v(V,{key:2,icon:"tabler-info-circle"}))]),default:o(()=>[i(" "+D(f.value),1)]),_:1},8,["modelValue","color"])]))}};export{me as default};
